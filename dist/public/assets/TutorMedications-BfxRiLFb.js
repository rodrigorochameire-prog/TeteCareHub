import{m as Ie,r as h,$ as Ce,j as e,Q as W,P as S,W as _,_ as q,a3 as ke,ay as Se,J as Y,h as c,I as v,C,n as J,X as Me,B as b,aE as Pe,t as w,a as R,L as Te,o as Ae,A as Ee,p as Fe,q as qe,s as _e,v as Ge,w as Le,b as A,d as E,e as H,f as F,c as ze}from"./index-DG0yx2hi.js";import{T as $e}from"./TutorLayout-lMG2oLBz.js";import{T as V}from"./textarea-BfRN5q_Y.js";import{S as Be,a as Oe,b as He,c as Ve,d as Qe}from"./select-k5kl2mY3.js";import{l as Z,u as Ke,R as Ue,I as Xe,B as I,P as Q}from"./popover-Bqiz4euq.js";import{R as We}from"./RecentChangeIndicator-dH2jnUR2.js";import{u as Ye}from"./index-r4-iOF84.js";import{C as K}from"./checkbox-ZWSIQfST.js";import{C as U}from"./clock-BQzFMz2h.js";import{P as ee}from"./plus-DIKUpKHa.js";import{A as Je}from"./arrow-left-B-xkxJNp.js";import{C as Ze}from"./circle-x-Ewhe70CR.js";import"./NotificationBell-BIuiN9Fe.js";import"./pt-BR-BIS3WgEC.js";import"./info-DReA-lTp.js";import"./message-square-COhalQ2E.js";import"./chart-column-B4FPjduw.js";import"./package-CC5WVNv6.js";import"./user-B4BzRHVK.js";import"./index-BdQq_4o_.js";import"./chevron-down-CKVtRMqG.js";import"./check-DDByOptX.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var G="Radio",[ss,se]=W(G),[as,ts]=ss(G),ae=h.forwardRef((a,r)=>{const{__scopeRadio:d,name:u,checked:o=!1,required:p,disabled:n,value:t="on",onCheck:i,form:l,...m}=a,[g,y]=h.useState(null),j=_(r,D=>y(D)),f=h.useRef(!1),N=g?l||!!g.closest("form"):!0;return e.jsxs(as,{scope:d,checked:o,disabled:n,children:[e.jsx(S.button,{type:"button",role:"radio","aria-checked":o,"data-state":oe(o),"data-disabled":n?"":void 0,disabled:n,value:t,...m,ref:j,onClick:q(a.onClick,D=>{o||i?.(),N&&(f.current=D.isPropagationStopped(),f.current||D.stopPropagation())})}),N&&e.jsx(re,{control:g,bubbles:!f.current,name:u,value:t,checked:o,required:p,disabled:n,form:l,style:{transform:"translateX(-100%)"}})]})});ae.displayName=G;var te="RadioIndicator",ie=h.forwardRef((a,r)=>{const{__scopeRadio:d,forceMount:u,...o}=a,p=ts(te,d);return e.jsx(ke,{present:u||p.checked,children:e.jsx(S.span,{"data-state":oe(p.checked),"data-disabled":p.disabled?"":void 0,...o,ref:r})})});ie.displayName=te;var is="RadioBubbleInput",re=h.forwardRef(({__scopeRadio:a,control:r,checked:d,bubbles:u=!0,...o},p)=>{const n=h.useRef(null),t=_(n,p),i=Ye(d),l=Se(r);return h.useEffect(()=>{const m=n.current;if(!m)return;const g=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(g,"checked").set;if(i!==d&&j){const f=new Event("click",{bubbles:u});j.call(m,d),m.dispatchEvent(f)}},[i,d,u]),e.jsx(S.input,{type:"radio","aria-hidden":!0,defaultChecked:d,...o,tabIndex:-1,ref:t,style:{...o.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});re.displayName=is;function oe(a){return a?"checked":"unchecked"}var rs=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],M="RadioGroup",[os]=W(M,[Z,se]),ne=Z(),ce=se(),[ns,cs]=os(M),de=h.forwardRef((a,r)=>{const{__scopeRadioGroup:d,name:u,defaultValue:o,value:p,required:n=!1,disabled:t=!1,orientation:i,dir:l,loop:m=!0,onValueChange:g,...y}=a,j=ne(d),f=Ke(l),[N,D]=Ce({prop:p,defaultProp:o??null,onChange:g,caller:M});return e.jsx(ns,{scope:d,name:u,required:n,disabled:t,value:N,onValueChange:D,children:e.jsx(Ue,{asChild:!0,...j,orientation:i,dir:f,loop:m,children:e.jsx(S.div,{role:"radiogroup","aria-required":n,"aria-orientation":i,"data-disabled":t?"":void 0,dir:f,...y,ref:r})})})});de.displayName=M;var le="RadioGroupItem",me=h.forwardRef((a,r)=>{const{__scopeRadioGroup:d,disabled:u,...o}=a,p=cs(le,d),n=p.disabled||u,t=ne(d),i=ce(d),l=h.useRef(null),m=_(r,l),g=p.value===o.value,y=h.useRef(!1);return h.useEffect(()=>{const j=N=>{rs.includes(N.key)&&(y.current=!0)},f=()=>y.current=!1;return document.addEventListener("keydown",j),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",j),document.removeEventListener("keyup",f)}},[]),e.jsx(Xe,{asChild:!0,...t,focusable:!n,active:g,children:e.jsx(ae,{disabled:n,required:p.required,checked:g,...i,...o,name:p.name,ref:m,onCheck:()=>p.onValueChange(o.value),onKeyDown:q(j=>{j.key==="Enter"&&j.preventDefault()}),onFocus:q(o.onFocus,()=>{y.current&&l.current?.click()})})})});me.displayName=le;var ds="RadioGroupIndicator",ue=h.forwardRef((a,r)=>{const{__scopeRadioGroup:d,...u}=a,o=ce(d);return e.jsx(ie,{...o,...u,ref:r})});ue.displayName=ds;var ls=de,ms=me,us=ue;function ps({className:a,...r}){return e.jsx(ls,{"data-slot":"radio-group",className:Y("grid gap-3",a),...r})}function k({className:a,...r}){return e.jsx(ms,{"data-slot":"radio-group-item",className:Y("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:e.jsx(us,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(es,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const X=[{value:0,label:"Dom"},{value:1,label:"Seg"},{value:2,label:"Ter"},{value:3,label:"Qua"},{value:4,label:"Qui"},{value:5,label:"Sex"},{value:6,label:"S√°b"}],xs=Array.from({length:31},(a,r)=>r+1);function hs({value:a,onChange:r,showPreview:d=!0}){const u=t=>{r({...a,periodicity:t,customInterval:t==="custom"?a.customInterval||7:void 0,weekDays:t==="weekly"?a.weekDays||[]:void 0,monthDays:t==="monthly"?a.monthDays||[]:void 0})},o=t=>{const i=a.weekDays||[],l=i.includes(t)?i.filter(m=>m!==t):[...i,t].sort((m,g)=>m-g);r({...a,weekDays:l})},p=t=>{const i=a.monthDays||[],l=i.includes(t)?i.filter(m=>m!==t):[...i,t].sort((m,g)=>m-g);r({...a,monthDays:l})},n=()=>{switch(a.periodicity){case"daily":return"Todos os dias";case"weekly":return!a.weekDays||a.weekDays.length===0?"Selecione os dias da semana":`Toda semana: ${a.weekDays.map(m=>X.find(g=>g.value===m)?.label).join(", ")}`;case"monthly":return!a.monthDays||a.monthDays.length===0?"Selecione os dias do m√™s":`Todo m√™s nos dias: ${a.monthDays.join(", ")}`;case"custom":const l=a.customInterval||1;return`A cada ${l} ${l===1?"dia":"dias"}`;default:return""}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Periodicidade"}),e.jsxs(ps,{value:a.periodicity,onValueChange:t=>u(t),className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{value:"daily",id:"daily"}),e.jsx(c,{htmlFor:"daily",className:"font-normal cursor-pointer",children:"Di√°ria (todos os dias)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{value:"weekly",id:"weekly"}),e.jsx(c,{htmlFor:"weekly",className:"font-normal cursor-pointer",children:"Semanal (dias espec√≠ficos da semana)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{value:"monthly",id:"monthly"}),e.jsx(c,{htmlFor:"monthly",className:"font-normal cursor-pointer",children:"Mensal (dias espec√≠ficos do m√™s)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{value:"custom",id:"custom"}),e.jsx(c,{htmlFor:"custom",className:"font-normal cursor-pointer",children:"Personalizada (intervalo customizado)"})]})]})]}),a.periodicity==="weekly"&&e.jsxs("div",{children:[e.jsx(c,{children:"Dias da Semana"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:X.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{id:`weekday-${t.value}`,checked:a.weekDays?.includes(t.value)||!1,onCheckedChange:()=>o(t.value)}),e.jsx(c,{htmlFor:`weekday-${t.value}`,className:"font-normal cursor-pointer text-sm",children:t.label})]},t.value))})]}),a.periodicity==="monthly"&&e.jsxs("div",{children:[e.jsx(c,{children:"Dias do M√™s"}),e.jsx("div",{className:"mt-2 grid grid-cols-7 gap-2",children:xs.map(t=>e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(K,{id:`monthday-${t}`,checked:a.monthDays?.includes(t)||!1,onCheckedChange:()=>p(t),className:"peer sr-only"}),e.jsx(c,{htmlFor:`monthday-${t}`,className:"flex h-9 w-9 cursor-pointer items-center justify-center rounded-md border-2 border-muted bg-popover text-sm font-medium hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary peer-data-[state=checked]:text-primary-foreground",children:t})]},t))})]}),a.periodicity==="custom"&&e.jsxs("div",{children:[e.jsx(c,{htmlFor:"customInterval",children:"Intervalo (dias)"}),e.jsx(v,{id:"customInterval",type:"number",min:1,value:a.customInterval||1,onChange:t=>r({...a,customInterval:parseInt(t.target.value)||1}),placeholder:"Ex: 7 para semanal, 35 para Simparic",className:"mt-2"}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Exemplos: 7 dias (semanal), 35 dias (Simparic), 365 dias (anual)"})]}),d&&e.jsx(C,{className:"p-3 bg-muted/50",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(J,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Pr√≥ximas aplica√ß√µes:"}),e.jsx("span",{className:"text-muted-foreground",children:n()})]})})]})}function gs({times:a,onChange:r,disabled:d}){const[u,o]=h.useState("08:00"),p=()=>{if(u&&!a.includes(u)){const i=[...a,u].sort();r(i),o("08:00")}},n=i=>{r(a.filter(l=>l!==i))},t=[{label:"Manh√£ (08:00)",value:"08:00"},{label:"Meio-dia (12:00)",value:"12:00"},{label:"Tarde (16:00)",value:"16:00"},{label:"Noite (20:00)",value:"20:00"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Hor√°rios de Administra√ß√£o"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Defina os hor√°rios em que o medicamento deve ser administrado"})]}),a.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(i=>e.jsxs(I,{variant:"secondary",className:"text-sm px-3 py-1.5 gap-2",children:[e.jsx(U,{className:"h-3 w-3"}),i,!d&&e.jsx("button",{type:"button",onClick:()=>n(i),className:"hover:text-destructive transition-colors",children:e.jsx(Me,{className:"h-3 w-3"})})]},i))}),!d&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{type:"time",value:u,onChange:i=>o(i.target.value),className:"flex-1"}),e.jsxs(b,{type:"button",onClick:p,size:"sm",children:[e.jsx(ee,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),e.jsxs(C,{className:"p-3 bg-muted/50",children:[e.jsx("p",{className:"text-xs font-medium mb-2",children:"Hor√°rios Sugeridos:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.filter(({value:i})=>!a.includes(i)).map(({label:i,value:l})=>e.jsx(b,{type:"button",variant:"outline",size:"sm",onClick:()=>{o(l),a.includes(l)||r([...a,l].sort())},className:"text-xs",children:i},l))})]})]})]})}function Ls(){const[,a]=Pe("/tutor/pets/:id/medications"),r=a?.id?parseInt(a.id):0,[d,u]=h.useState(!1),[o,p]=h.useState(null),[n,t]=h.useState(!1),[i,l]=h.useState([]),[m,g]=h.useState({periodicity:"daily",customInterval:void 0,weekDays:void 0,monthDays:void 0}),{data:y}=w.pets.byId.useQuery({id:r}),{data:j,refetch:f}=w.medications.getPetMedications.useQuery({petId:r}),{data:N}=w.medications.library.useQuery(),{data:D}=w.changeHistory.getPetHistory.useQuery({petId:r}),pe=s=>D?D.filter(x=>x.resourceType==="medication"&&x.resourceId===s).sort((x,T)=>new Date(T.createdAt).getTime()-new Date(x.createdAt).getTime()).slice(0,3):[],P=w.medications.add.useMutation({onSuccess:()=>{R.success("Medicamento adicionado com sucesso!"),u(!1),f()},onError:s=>{R.error("Erro ao adicionar medicamento: "+s.message)}}),xe=w.medications.update.useMutation({onSuccess:()=>{R.success("Medicamento atualizado!"),f()},onError:s=>{R.error("Erro: "+s.message)}}),L=w.medications.scheduleNext.useMutation({onSuccess:s=>{R.success(`Pr√≥xima dose agendada para ${new Date(s.nextDate).toLocaleDateString("pt-BR")} - ${s.dosage}`),f()},onError:s=>{R.error("Erro: "+s.message)}}),he=s=>{s.preventDefault();const x=new FormData(s.currentTarget),T=x.get("medicationId")?parseInt(x.get("medicationId")):void 0,ge=x.get("customMedName"),je=x.get("customMedType"),fe=x.get("customMedDescription"),ve=x.get("startDate"),B=x.get("endDate"),ye=x.get("dosage"),Ne=x.get("frequency"),De=x.get("notes"),be=x.get("dosageProgression"),we=x.get("progressionRate"),O=x.get("progressionInterval"),Re=x.get("targetDosage");P.mutate({petId:r,medicationId:n?void 0:T,customMedName:n?ge:void 0,customMedType:n?je:void 0,customMedDescription:n?fe:void 0,startDate:new Date(ve),endDate:B?new Date(B):void 0,dosage:ye,frequency:Ne||void 0,administrationTimes:i.length>0?JSON.stringify(i):void 0,periodicity:m.periodicity,customInterval:m.customInterval,weekDays:m.weekDays,monthDays:m.monthDays,autoSchedule:!1,dosageProgression:be||"stable",progressionRate:we||void 0,progressionInterval:O?parseInt(O):void 0,targetDosage:Re||void 0,notes:De||void 0})},z=j?.filter(s=>s.medication.isActive)||[],$=j?.filter(s=>!s.medication.isActive)||[];return e.jsx($e,{children:e.jsxs("div",{className:"container max-w-7xl py-8 space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Te,{href:`/tutor/pets/${r}`,children:e.jsx(b,{variant:"ghost",size:"icon",children:e.jsx(Je,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Medicamentos"}),e.jsx("p",{className:"text-muted-foreground",children:y?.name})]}),e.jsxs(Ae,{open:d,onOpenChange:u,children:[e.jsx(Ee,{asChild:!0,children:e.jsxs(b,{children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Adicionar Medicamento"]})}),e.jsxs(Fe,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(qe,{children:[e.jsx(_e,{children:"Adicionar Medicamento"}),e.jsx(Ge,{children:"Registre um novo medicamento ou tratamento para o pet"})]}),e.jsxs("form",{onSubmit:he,className:"space-y-4 px-1",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"customMed",checked:n,onChange:s=>t(s.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(c,{htmlFor:"customMed",className:"cursor-pointer",children:"Medicamento personalizado (n√£o est√° na lista)"})]}),n?e.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"customMedName",children:"Nome do Medicamento *"}),e.jsx(v,{id:"customMedName",name:"customMedName",placeholder:"Ex: Antibi√≥tico XYZ",required:n})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"customMedType",children:"Tipo *"}),e.jsx(v,{id:"customMedType",name:"customMedType",placeholder:"Ex: Antibi√≥tico, Anti-inflamat√≥rio, Suplemento, Especial",required:n}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Digite qualquer tipo que desejar"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"customMedDescription",children:"Descri√ß√£o"}),e.jsx(V,{id:"customMedDescription",name:"customMedDescription",rows:2,placeholder:"Informa√ß√µes adicionais sobre o medicamento"})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"medicationId",children:"Medicamento *"}),e.jsxs(Be,{name:"medicationId",value:o?.toString()||"",onValueChange:s=>p(parseInt(s)),required:!n,children:[e.jsx(Oe,{children:e.jsx(He,{placeholder:"Selecione o medicamento"})}),e.jsx(Ve,{children:N?.map(s=>e.jsxs(Qe,{value:s.id.toString(),children:[s.name," - ",s.type]},s.id))})]}),o&&e.jsx("p",{className:"text-xs text-muted-foreground",children:N?.find(s=>s.id===o)?.description})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"startDate",children:"Data de In√≠cio *"}),e.jsx(v,{id:"startDate",name:"startDate",type:"date",defaultValue:new Date().toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"endDate",children:"Data de T√©rmino"}),e.jsx(v,{id:"endDate",name:"endDate",type:"date"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Deixe em branco para tratamento cont√≠nuo"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"dosage",children:"Dosagem *"}),e.jsx(v,{id:"dosage",name:"dosage",placeholder:"Ex: 1 comprimido, 5ml, 1 aplica√ß√£o",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"frequency",children:"Frequ√™ncia (Descri√ß√£o)"}),e.jsx(v,{id:"frequency",name:"frequency",placeholder:"Ex: 1x ao dia, a cada 12h, junto com a refei√ß√£o"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Descri√ß√£o adicional da frequ√™ncia (opcional)"})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsx(gs,{times:i,onChange:l})}),e.jsx("div",{className:"border-t pt-4",children:e.jsx(hs,{value:m,onChange:g,showPreview:!0})}),e.jsxs("div",{className:"border-t pt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Progressividade de Dose"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Configure ajustes graduais na dosagem ao longo do tratamento"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"dosageProgression",children:"Tipo de Ajuste"}),e.jsxs("select",{id:"dosageProgression",name:"dosageProgression",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",defaultValue:"stable",children:[e.jsx("option",{value:"stable",children:"Est√°vel (sem ajustes)"}),e.jsx("option",{value:"increase",children:"‚Üë Progressiva (aumentar gradualmente)"}),e.jsx("option",{value:"decrease",children:"‚Üì Regressiva (diminuir gradualmente)"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"progressionRate",children:"Taxa de Ajuste"}),e.jsx(v,{id:"progressionRate",name:"progressionRate",placeholder:"Ex: 10%, 5mg, 0.5ml"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor ou porcentagem do ajuste"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"progressionInterval",children:"A Cada (doses)"}),e.jsx(v,{id:"progressionInterval",name:"progressionInterval",type:"number",min:"1",placeholder:"Ex: 3"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ajustar a cada X doses"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"targetDosage",children:"Dosagem Alvo (opcional)"}),e.jsx(v,{id:"targetDosage",name:"targetDosage",placeholder:"Ex: 20mg"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dosagem final desejada (o ajuste para ao atingir)"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"notes",children:"Observa√ß√µes"}),e.jsx(V,{id:"notes",name:"notes",rows:3,placeholder:"Instru√ß√µes especiais, hor√°rios, etc."})]}),e.jsxs(Le,{children:[e.jsx(b,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),e.jsx(b,{type:"submit",disabled:P.isPending,children:P.isPending?"Salvando...":"Salvar"})]})]})]})]})]}),e.jsxs(C,{children:[e.jsxs(A,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),"Tratamentos Ativos"]}),e.jsx(H,{children:"Medicamentos em uso no momento"})]}),e.jsx(F,{children:z.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx(Q,{className:"empty-state-icon"}),e.jsx("p",{className:"empty-state-title",children:"Nenhum tratamento ativo"}),e.jsx("p",{className:"empty-state-description",children:"Adicione medicamentos que o pet est√° tomando atualmente"})]}):e.jsx("div",{className:"space-y-4",children:z.map(s=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.medicationInfo.name}),e.jsx(We,{changes:pe(s.medication.id),resourceType:"medication"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(I,{variant:"outline",children:s.medicationInfo.type}),s.medication.periodicity&&s.medication.periodicity!=="daily"&&e.jsxs(I,{variant:"secondary",className:"text-xs",children:[s.medication.periodicity==="weekly"&&"Semanal",s.medication.periodicity==="monthly"&&"Mensal",s.medication.periodicity==="custom"&&`${s.medication.customInterval||"?"} dias`]}),s.medication.dosageProgression&&s.medication.dosageProgression!=="stable"&&e.jsx(I,{variant:"default",className:"text-xs",children:s.medication.dosageProgression==="increase"?"‚Üë Progressiva":"‚Üì Regressiva"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(b,{size:"sm",variant:"default",onClick:()=>L.mutate({medicationId:s.medication.id,petId:r}),disabled:L.isPending,children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Agendar Pr√≥xima Dose"]}),e.jsxs(b,{size:"sm",variant:"outline",onClick:()=>xe.mutate({id:s.medication.id,petId:r,isActive:!1}),children:[e.jsx(ze,{className:"mr-2 h-4 w-4"}),"Finalizar"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Dosagem"}),e.jsx("p",{className:"font-medium",children:s.medication.dosage})]}),s.medication.frequency&&e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Frequ√™ncia"}),e.jsx("p",{className:"font-medium",children:s.medication.frequency})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"In√≠cio"}),e.jsx("p",{className:"font-medium",children:new Date(s.medication.startDate).toLocaleDateString("pt-BR")})]}),s.medication.endDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"T√©rmino"}),e.jsx("p",{className:"font-medium",children:new Date(s.medication.endDate).toLocaleDateString("pt-BR")})]})]}),s.medication.notes&&e.jsx("div",{className:"mt-3 p-3 bg-muted/30 rounded",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:s.medication.notes})})]},s.medication.id))})})]}),$.length>0&&e.jsxs(C,{children:[e.jsxs(A,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),"Tratamentos Finalizados"]}),e.jsx(H,{children:"Hist√≥rico de medicamentos j√° utilizados"})]}),e.jsx(F,{children:e.jsx("div",{className:"space-y-3",children:$.map(s=>e.jsx("div",{className:"p-4 border rounded-lg opacity-75",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:s.medicationInfo.name}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Dosagem: ",s.medication.dosage,s.medication.frequency&&` ‚Ä¢ ${s.medication.frequency}`]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[new Date(s.medication.startDate).toLocaleDateString("pt-BR")," -"," ",s.medication.endDate?new Date(s.medication.endDate).toLocaleDateString("pt-BR"):"Cont√≠nuo"]})]}),e.jsx(I,{variant:"secondary",children:"Finalizado"})]})},s.medication.id))})})]}),e.jsxs(C,{className:"bg-blue-50/50 border-blue-200",children:[e.jsx(A,{children:e.jsx(E,{className:"text-base",children:"üí° Dicas de Medica√ß√£o"})}),e.jsxs(F,{className:"text-sm space-y-2",children:[e.jsx("p",{children:"‚Ä¢ Configure alarmes no celular para n√£o esquecer os hor√°rios"}),e.jsx("p",{children:"‚Ä¢ Mantenha os medicamentos em local seguro e fora do alcance do pet"}),e.jsx("p",{children:"‚Ä¢ Anote qualquer rea√ß√£o adversa nas observa√ß√µes"}),e.jsx("p",{children:"‚Ä¢ Consulte sempre o veterin√°rio antes de interromper um tratamento"}),e.jsx("p",{children:"‚Ä¢ Guarde as embalagens e bulas para refer√™ncia futura"})]})]})]})})}export{Ls as default};
