import{m as B,r as m,t as G,j as e,C as x,f as u,B as l,b as j,d as g,e as b,i as O,n as $,c as L,o as z,p as H,q as Q,s as Z,v as K,h as i,I as f,w as J,a as U}from"./index-DG0yx2hi.js";import{T as w}from"./TutorLayout-lMG2oLBz.js";import{B as W}from"./popover-Bqiz4euq.js";import{T as X}from"./textarea-BfRN5q_Y.js";import{S,a as D,b as R,c as C,d as n}from"./select-k5kl2mY3.js";import{S as Y}from"./shopping-bag-B54fr_Tl.js";import{P as q}from"./plus-DIKUpKHa.js";import{P as A}from"./package-CC5WVNv6.js";import{S as _}from"./square-pen-D7F5zf6L.js";import{f as F}from"./pt-BR-BIS3WgEC.js";import"./NotificationBell-BIuiN9Fe.js";import"./info-DReA-lTp.js";import"./message-square-COhalQ2E.js";import"./chart-column-B4FPjduw.js";import"./user-B4BzRHVK.js";import"./index-BdQq_4o_.js";import"./index-r4-iOF84.js";import"./chevron-down-CKVtRMqG.js";import"./check-DDByOptX.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=B("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);function Ne(){const[y,h]=m.useState(null),[P,d]=m.useState(!1),[r,p]=m.useState(null),{data:o}=G.pets.list.useQuery(),[N,k]=m.useState([{id:1,petId:1,brand:"Royal Canin Golden Retriever Adult",type:"Ração Seca Premium",quantity:15e3,dailyAmount:400,lastPurchase:new Date("2025-01-01"),notes:"Ração específica para Golden Retriever adulto"}]),I=s=>{s.preventDefault();const a=new FormData(s.currentTarget),t={id:Date.now(),petId:y,brand:a.get("brand"),type:a.get("type"),quantity:parseFloat(a.get("quantity"))*1e3,dailyAmount:parseFloat(a.get("dailyAmount")),lastPurchase:new Date,notes:a.get("notes")||void 0};k([...N,t]),U.success("Informações de ração adicionadas!"),d(!1),h(null)},v=s=>Math.floor(s.quantity/s.dailyAmount),M=s=>{const a=v(s),t=new Date;return t.setDate(t.getDate()+a),t};return!o||o.length===0?e.jsx(w,{children:e.jsx("div",{className:"space-y-6 animate-fade-in",children:e.jsx(x,{children:e.jsxs(u,{className:"empty-state",children:[e.jsx(Y,{className:"empty-state-icon"}),e.jsx("p",{className:"empty-state-title",children:"Nenhum pet cadastrado"}),e.jsx("p",{className:"empty-state-description",children:"Cadastre um pet para gerenciar informações de ração"})]})})})}):e.jsx(w,{children:e.jsxs("div",{className:"container max-w-7xl py-8 space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gestão de Ração"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Controle o estoque e consumo de ração dos seus pets"})]}),e.jsxs(l,{onClick:()=>d(!0),className:"gap-2",size:"lg",children:[e.jsx(q,{className:"h-5 w-5"}),"Adicionar Ração"]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map(s=>{const a=N.find(V=>V.petId===s.id);if(!a)return e.jsxs(x,{className:"hover-lift",children:[e.jsxs(j,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),s.name]}),e.jsx(b,{children:"Nenhuma informação de ração cadastrada"})]}),e.jsx(u,{children:e.jsxs(l,{variant:"outline",className:"w-full",onClick:()=>{h(s.id),d(!0)},children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Adicionar Ração"]})})]},s.id);const t=v(a),T=M(a),c=t<7,E=a.quantity/1e3;return e.jsxs(x,{className:`hover-lift ${c?"border-orange-200":""}`,children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),s.name]}),e.jsx(b,{className:"mt-2",children:a.brand})]}),e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>p(a),children:e.jsx(_,{className:"h-4 w-4"})})]})}),e.jsxs(u,{className:"space-y-6",children:[c&&e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-orange-50 border border-orange-200",children:[e.jsx(O,{className:"h-5 w-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-orange-900",children:"Estoque Baixo"}),e.jsxs("p",{className:"text-sm text-orange-800 mt-1",children:["Restam apenas ",t," dias de ração. Considere comprar mais!"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[e.jsx(ee,{className:"h-4 w-4"}),"Estoque Atual"]}),e.jsxs("p",{className:"text-2xl font-bold",children:[E.toFixed(1)," kg"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[e.jsx($,{className:"h-4 w-4"}),"Duração"]}),e.jsxs("p",{className:"text-2xl font-bold",children:[t," dias"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Consumo diário: ",a.dailyAmount,"g"]}),e.jsxs("span",{className:`font-medium ${c?"text-orange-600":"text-green-600"}`,children:[(a.quantity/(a.quantity+a.dailyAmount*30)*100).toFixed(0),"%"]})]}),e.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${t>14?"bg-green-500":t>7?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(a.quantity/(a.quantity+a.dailyAmount*30)*100,100)}%`}})})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),e.jsx(W,{variant:"secondary",children:a.type})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Última compra:"}),e.jsx("span",{className:"font-medium",children:F(new Date(a.lastPurchase),"dd/MM/yyyy")})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Previsão de término:"}),e.jsx("span",{className:`font-medium ${c?"text-orange-600":""}`,children:F(T,"dd/MM/yyyy")})]})]}),a.notes&&e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Observações:"}),e.jsx("p",{className:"text-sm",children:a.notes})]})]})]},s.id)})}),e.jsxs(x,{children:[e.jsx(j,{children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5 text-green-600"}),"Dicas de Alimentação"]})}),e.jsxs(u,{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Mantenha a ração em local fresco e seco, protegida da luz solar"}),e.jsx("p",{children:"• Sempre forneça água fresca e limpa junto com a alimentação"}),e.jsx("p",{children:"• Respeite a quantidade diária recomendada para evitar sobrepeso"}),e.jsx("p",{children:"• Divida a porção diária em 2-3 refeições para melhor digestão"}),e.jsx("p",{children:"• Consulte o veterinário sobre a ração mais adequada para seu pet"}),e.jsx("p",{children:"• Verifique a data de validade antes de comprar novos pacotes"}),e.jsx("p",{children:"• Faça a transição gradual ao mudar de marca ou tipo de ração"})]})]}),e.jsx(z,{open:P||!!r,onOpenChange:s=>{d(s),s||p(null)},children:e.jsxs(H,{children:[e.jsxs(Q,{children:[e.jsx(Z,{children:r?"Editar Informações de Ração":"Adicionar Ração"}),e.jsx(K,{children:"Preencha as informações sobre a ração do pet"})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[!r&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Pet"}),e.jsxs(S,{value:y?.toString(),onValueChange:s=>h(parseInt(s)),required:!0,children:[e.jsx(D,{children:e.jsx(R,{placeholder:"Selecione um pet"})}),e.jsx(C,{children:o.map(s=>e.jsx(n,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"brand",children:"Marca e Produto"}),e.jsx(f,{id:"brand",name:"brand",placeholder:"Ex: Royal Canin Golden Retriever Adult",defaultValue:r?.brand,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"type",children:"Tipo de Ração"}),e.jsxs(S,{name:"type",defaultValue:r?.type,required:!0,children:[e.jsx(D,{children:e.jsx(R,{placeholder:"Selecione o tipo"})}),e.jsxs(C,{children:[e.jsx(n,{value:"Ração Seca Premium",children:"Ração Seca Premium"}),e.jsx(n,{value:"Ração Seca Standard",children:"Ração Seca Standard"}),e.jsx(n,{value:"Ração Úmida",children:"Ração Úmida"}),e.jsx(n,{value:"Ração Natural",children:"Ração Natural"}),e.jsx(n,{value:"Ração Grain-Free",children:"Ração Grain-Free"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"quantity",children:"Quantidade (kg)"}),e.jsx(f,{id:"quantity",name:"quantity",type:"number",step:"0.1",placeholder:"15.0",defaultValue:r?r.quantity/1e3:void 0,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"dailyAmount",children:"Consumo Diário (g)"}),e.jsx(f,{id:"dailyAmount",name:"dailyAmount",type:"number",placeholder:"400",defaultValue:r?.dailyAmount,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"notes",children:"Observações (opcional)"}),e.jsx(X,{id:"notes",name:"notes",placeholder:"Informações adicionais sobre a ração...",defaultValue:r?.notes,rows:3})]}),e.jsxs(J,{children:[e.jsx(l,{type:"button",variant:"outline",onClick:()=>{d(!1),p(null)},children:"Cancelar"}),e.jsx(l,{type:"submit",children:r?"Salvar Alterações":"Adicionar"})]})]})]})})]})})}export{Ne as default};
