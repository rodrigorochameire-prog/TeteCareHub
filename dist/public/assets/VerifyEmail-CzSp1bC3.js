import{u as b,r as s,t as w,a as u,j as e,C as t,b as c,l as k,d as l,e as n,c as y,g as x,B as o,L as d,i as C,f as E}from"./index-DG0yx2hi.js";function V(){const[,f]=b(),[S,h]=s.useState(""),[j,a]=s.useState(!0),[p,g]=s.useState(!1),[N,m]=s.useState(""),v=w.auth.verifyEmail.useMutation({onSuccess:()=>{g(!0),a(!1),u.success("Email verificado com sucesso!"),setTimeout(()=>{f("/profile")},3e3)},onError:r=>{m(r.message),a(!1),u.error(r.message)}});return s.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("token");i?(h(i),v.mutate({token:i})):(m("Token de verificação não encontrado"),a(!1))},[]),j?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-accent/5 p-4",children:e.jsx(t,{className:"w-full max-w-md",children:e.jsxs(c,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:e.jsx(k,{className:"h-8 w-8 text-primary animate-spin"})}),e.jsx(l,{className:"text-2xl",children:"Verificando Email"}),e.jsx(n,{children:"Aguarde enquanto verificamos seu email..."})]})})}):p?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-accent/5 p-4",children:e.jsxs(t,{className:"w-full max-w-md",children:[e.jsxs(c,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100 dark:bg-green-900",children:e.jsx(y,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),e.jsx(l,{className:"text-2xl",children:"Email Verificado!"}),e.jsx(n,{children:"Seu email foi verificado com sucesso. Redirecionando para o perfil..."})]}),e.jsx(x,{children:e.jsx(o,{className:"w-full",asChild:!0,children:e.jsx(d,{href:"/profile",children:"Ir para o perfil"})})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-accent/5 p-4",children:e.jsxs(t,{className:"w-full max-w-md",children:[e.jsxs(c,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10",children:e.jsx(C,{className:"h-8 w-8 text-destructive"})}),e.jsx(l,{className:"text-2xl",children:"Erro na Verificação"}),e.jsx(n,{children:N||"Não foi possível verificar seu email."})]}),e.jsx(E,{className:"space-y-4",children:e.jsxs("div",{className:"rounded-lg border border-muted bg-muted/50 p-4 text-sm text-muted-foreground",children:[e.jsx("p",{className:"mb-2",children:"Possíveis causas:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"O link de verificação expirou (válido por 24 horas)"}),e.jsx("li",{children:"O link já foi utilizado anteriormente"}),e.jsx("li",{children:"O link está incompleto ou inválido"})]})]})}),e.jsxs(x,{className:"flex flex-col gap-2",children:[e.jsx(o,{variant:"outline",className:"w-full",asChild:!0,children:e.jsx(d,{href:"/profile",children:"Ir para o perfil"})}),e.jsx(o,{variant:"ghost",className:"w-full",asChild:!0,children:e.jsx(d,{href:"/login",children:"Voltar para o login"})})]})]})})}export{V as default};
