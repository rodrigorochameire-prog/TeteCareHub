import{r as j,t as g,a as y,j as e,o as _,p as W,q as K,s as Y,v as J,X as ze,B as D,h as w,I as z,C,b as T,d as M,f as S,e as I,af as we,n as q,K as _e,ae as oe,l as De,g as We,i as Ce,aC as Ke,L as Se,c as Ye}from"./index-DG0yx2hi.js";import{A as ie}from"./AdminLayout-CapzJ-JK.js";import{A as Je,c as Xe,S as Ze,P as Le,F as Q,B as U}from"./popover-Bqiz4euq.js";import{T as ke,a as Be,b as O,c as H}from"./tabs-sUy1g-fW.js";import{U as Fe}from"./upload-Ck_fQFtx.js";import{C as X}from"./check-DDByOptX.js";import{T as le}from"./textarea-BfRN5q_Y.js";import{S as es}from"./save-Cc15p_sb.js";import{U as Pe}from"./user-plus-DWTF4nUO.js";import{U as ss}from"./user-minus-Bdea9KUv.js";import{S as L,a as k,b as B,c as R,d as h}from"./select-k5kl2mY3.js";import{F as Re}from"./filter-C966fxzX.js";import{f as E,p as Z}from"./pt-BR-BIS3WgEC.js";import{A as ee}from"./activity-DL-_hozy.js";import{T as Oe}from"./trending-up-C2VanZIM.js";import{T as He}from"./trending-down-S1-mxyMB.js";import{R as re,L as as,C as Ae,X as Te,Y as Me,T as ne,b as $e,a as ts,c as is,B as rs}from"./LineChart-CD6pLqis.js";import{P as ns,a as os}from"./PieChart-BQ4Gmhp3.js";import{B as ls}from"./BarChart-C1UGB1Aa.js";import{P as cs}from"./PhotoGalleryTimeline-Bt6FRxK9.js";import{C as ds}from"./checkbox-ZWSIQfST.js";import{B as ce}from"./building-2-hE8cORrW.js";import{S as Ie}from"./smile-Bn_kV9F9.js";import{U as de}from"./utensils-CgVj1FvD.js";import{P as Ee}from"./plus-DIKUpKHa.js";import{S as Ue}from"./square-pen-D7F5zf6L.js";import{T as ms}from"./trash-2-6I2MbiK3.js";import{C as xs}from"./credit-card-CxD7Buqp.js";import{W as hs}from"./wallet-CKmMh37E.js";import{S as us}from"./shopping-cart-B8qSl-rX.js";import{H as js}from"./history-BxnlJaOb.js";import{D as ps}from"./DocumentUpload-BKsTr8iI.js";import{D as gs}from"./DocumentViewer-DvseRbVf.js";import{E as fs}from"./jspdf.es.min-CAUmCEfZ.js";import{A as vs}from"./arrow-left-B-xkxJNp.js";import{C as Ns}from"./circle-x-Ewhe70CR.js";import{D as ys}from"./download-DIpAs7NP.js";import{W as bs}from"./weight-rDaieWui.js";import"./scroll-area-C0S6gB82.js";import"./index-BdQq_4o_.js";import"./layout-dashboard-CC4g-mOh.js";import"./users-DD1qYPM2.js";import"./user-B4BzRHVK.js";import"./index-r4-iOF84.js";import"./chevron-down-CKVtRMqG.js";import"./findIndex-Ckvz6Jh7.js";import"./progress-BQ_EYLtW.js";import"./image-BoirZu0B.js";import"./chevron-left-DzbQ4jE-.js";import"./chevron-right-DecBlSPI.js";function ws({currentPhotoUrl:n,petId:t,petName:a,onPhotoUpdated:o}){const[i,m]=j.useState(!1),[x,N]=j.useState(null),[r,c]=j.useState(null),[f,v]=j.useState(!1),u=j.useRef(null),b=l=>{const d=l.target.files?.[0];if(!d)return;if(!d.type.startsWith("image/")){y.error("Por favor, selecione uma imagem v√°lida");return}if(d.size>5*1024*1024){y.error("A imagem deve ter no m√°ximo 5MB");return}N(d);const s=new FileReader;s.onloadend=()=>{c(s.result)},s.readAsDataURL(d)},P=g.pets.uploadPhoto.useMutation({onSuccess:l=>{o(l.photoUrl),y.success("Foto atualizada com sucesso!"),m(!1),N(null),c(null)},onError:l=>{console.error("Upload error:",l),y.error("Erro ao fazer upload da foto")}}),F=async()=>{if(x){v(!0);try{const l=new FileReader;l.onloadend=async()=>{const s=l.result.split(",")[1];await P.mutateAsync({petId:t,fileName:x.name,fileContent:s,mimeType:x.type})},l.readAsDataURL(x)}catch{}finally{v(!1)}}},A=()=>{N(null),c(null),m(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",children:n?e.jsx("img",{src:n,alt:a,className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-4xl font-bold text-gray-400",children:a.charAt(0).toUpperCase()})}),e.jsx("button",{onClick:()=>m(!0),className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Fe,{className:"h-8 w-8 text-white"})})]}),e.jsx(_,{open:i,onOpenChange:m,children:e.jsxs(W,{className:"sm:max-w-md",children:[e.jsxs(K,{children:[e.jsxs(Y,{children:["Atualizar Foto de ",a]}),e.jsx(J,{children:"Selecione uma nova foto de perfil. Tamanho m√°ximo: 5MB. Formatos aceitos: JPG, PNG."})]}),e.jsxs("div",{className:"space-y-4",children:[r?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-full h-64 rounded-lg overflow-hidden bg-gray-100 flex items-center justify-center",children:e.jsx("img",{src:r,alt:"Preview",className:"max-w-full max-h-full object-contain"})}),e.jsx("button",{onClick:()=>{N(null),c(null)},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors",children:e.jsx(ze,{className:"h-4 w-4"})})]}):e.jsxs("div",{onClick:()=>u.current?.click(),className:"w-full h-64 rounded-lg border-2 border-dashed border-gray-300 hover:border-gray-400 transition-colors cursor-pointer flex flex-col items-center justify-center bg-gray-50",children:[e.jsx(Fe,{className:"h-12 w-12 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Clique para selecionar uma foto"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"JPG ou PNG, m√°x. 5MB"})]}),e.jsx("input",{ref:u,type:"file",accept:"image/jpeg,image/png,image/jpg",onChange:b,className:"hidden"}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(D,{variant:"outline",onClick:A,disabled:f,children:"Cancelar"}),e.jsx(D,{onClick:F,disabled:!x||f,children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Salvar Foto"]})})]})]})]})})]})}function Ds({pet:n,isOpen:t,onClose:a,onSuccess:o}){const[i,m]=j.useState({name:n.name||"",breed:n.breed||"",birthDate:n.birthDate?new Date(n.birthDate).toISOString().split("T")[0]:"",weight:n.weight?(n.weight/1e3).toString():"",foodBrand:n.foodBrand||"",foodAmount:n.foodAmount?n.foodAmount.toString():"",notes:n.notes||""});j.useEffect(()=>{m({name:n.name||"",breed:n.breed||"",birthDate:n.birthDate?new Date(n.birthDate).toISOString().split("T")[0]:"",weight:n.weight?(n.weight/1e3).toString():"",foodBrand:n.foodBrand||"",foodAmount:n.foodAmount?n.foodAmount.toString():"",notes:n.notes||""})},[n]);const x=g.pets.updateAdmin.useMutation({onSuccess:()=>{y.success("Informa√ß√µes atualizadas com sucesso!"),o(),a()},onError:c=>{y.error("Erro ao atualizar informa√ß√µes: "+c.message)}}),N=c=>{if(c.preventDefault(),!i.name.trim()){y.error("Nome √© obrigat√≥rio");return}x.mutate({id:n.id,name:i.name,breed:i.breed||void 0,birthDate:i.birthDate?new Date(i.birthDate):void 0,weight:i.weight?Math.round(parseFloat(i.weight)*1e3):void 0,foodBrand:i.foodBrand||void 0,foodAmount:i.foodAmount?parseInt(i.foodAmount):void 0,notes:i.notes||void 0})},r=()=>{if(!i.birthDate)return"N/A";const c=new Date(i.birthDate),f=new Date,v=(f.getFullYear()-c.getFullYear())*12+(f.getMonth()-c.getMonth()),u=Math.floor(v/12),b=v%12;return u===0?`${b} ${b===1?"m√™s":"meses"}`:b===0?`${u} ${u===1?"ano":"anos"}`:`${u} ${u===1?"ano":"anos"} e ${b} ${b===1?"m√™s":"meses"}`};return e.jsx(_,{open:t,onOpenChange:a,children:e.jsxs(W,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(K,{children:[e.jsxs(Y,{children:["Editar Informa√ß√µes de ",n.name]}),e.jsx(J,{children:"Atualize as informa√ß√µes b√°sicas e dados de sa√∫de do pet"})]}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Informa√ß√µes B√°sicas"}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"name",children:"Nome *"}),e.jsx(z,{id:"name",value:i.name,onChange:c=>m({...i,name:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"breed",children:"Ra√ßa"}),e.jsx(z,{id:"breed",value:i.breed,onChange:c=>m({...i,breed:c.target.value}),placeholder:"Ex: Golden Retriever"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"birthDate",children:"Data de Nascimento"}),e.jsx(z,{id:"birthDate",type:"date",value:i.birthDate,onChange:c=>m({...i,birthDate:c.target.value})}),i.birthDate&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Idade: ",r()]})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"weight",children:"Peso (kg)"}),e.jsx(z,{id:"weight",type:"number",step:"0.1",value:i.weight,onChange:c=>m({...i,weight:c.target.value}),placeholder:"Ex: 25.5"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Alimenta√ß√£o"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"foodBrand",children:"Marca da Ra√ß√£o"}),e.jsx(z,{id:"foodBrand",value:i.foodBrand,onChange:c=>m({...i,foodBrand:c.target.value}),placeholder:"Ex: Royal Canin"})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"foodAmount",children:"Quantidade Di√°ria (g)"}),e.jsx(z,{id:"foodAmount",type:"number",value:i.foodAmount,onChange:c=>m({...i,foodAmount:c.target.value}),placeholder:"Ex: 300"})]})]})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"notes",children:"Observa√ß√µes"}),e.jsx(le,{id:"notes",value:i.notes,onChange:c=>m({...i,notes:c.target.value}),placeholder:"Informa√ß√µes adicionais, alergias, comportamentos especiais...",rows:4})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[e.jsxs(D,{type:"button",variant:"outline",onClick:a,disabled:x.isPending,children:[e.jsx(ze,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),e.jsx(D,{type:"submit",disabled:x.isPending,children:x.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(es,{className:"h-4 w-4 mr-2"}),"Salvar Altera√ß√µes"]})})]})]})]})})}function Cs({petId:n,petName:t}){const[a,o]=j.useState(!1),[i,m]=j.useState(""),[x,N]=j.useState(!1),r=g.useUtils(),{data:c=[],isLoading:f}=g.petTutors.getTutorsByPet.useQuery({petId:n}),v=g.petTutors.searchUserByEmail.useMutation(),u=g.petTutors.linkTutor.useMutation({onSuccess:()=>{y.success("Tutor vinculado com sucesso!"),r.petTutors.getTutorsByPet.invalidate({petId:n}),o(!1),m(""),N(!1)},onError:d=>{y.error("Erro ao vincular tutor: "+d.message)}}),b=g.petTutors.unlinkTutor.useMutation({onSuccess:()=>{y.success("Tutor desvinculado com sucesso!"),r.petTutors.getTutorsByPet.invalidate({petId:n})},onError:d=>{y.error("Erro ao desvincular tutor: "+d.message)}}),P=g.petTutors.setPrimary.useMutation({onSuccess:()=>{y.success("Tutor principal atualizado!"),r.petTutors.getTutorsByPet.invalidate({petId:n})},onError:d=>{y.error("Erro ao definir tutor principal: "+d.message)}}),F=async()=>{if(!i.trim()){y.error("Digite um email para buscar");return}try{const d=await v.mutateAsync({email:i});if(!d){y.error("Usu√°rio n√£o encontrado");return}await u.mutateAsync({petId:n,tutorId:d.id,isPrimary:x})}catch{}},A=(d,s)=>{confirm(`Deseja realmente desvincular ${s} de ${t}?`)&&b.mutate({petId:n,tutorId:d})},l=d=>{P.mutate({petId:n,tutorId:d})};return f?e.jsxs(C,{children:[e.jsx(T,{children:e.jsx(M,{children:"Tutores"})}),e.jsx(S,{children:e.jsx("div",{className:"text-center text-muted-foreground",children:"Carregando..."})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(C,{children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(M,{children:["Tutores de ",t]}),e.jsx(I,{children:"Gerencie os tutores respons√°veis por este pet"})]}),e.jsxs(D,{onClick:()=>o(!0),children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Adicionar Tutor"]})]})}),e.jsx(S,{children:c.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{children:"Nenhum tutor vinculado a este pet"}),e.jsx(D,{variant:"link",onClick:()=>o(!0),className:"mt-2",children:"Adicionar primeiro tutor"})]}):e.jsx("div",{className:"space-y-3",children:c.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Je,{children:e.jsx(Xe,{children:d.name?.charAt(0).toUpperCase()||"?"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"font-medium",children:d.name||"Sem nome"}),d.isPrimary&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(we,{className:"h-3 w-3 mr-1"}),"Principal"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d.email}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vinculado em ",new Date(d.createdAt).toLocaleDateString("pt-BR")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!d.isPrimary&&e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>l(d.id),disabled:P.isPending,children:[e.jsx(we,{className:"h-4 w-4 mr-1"}),"Tornar Principal"]}),e.jsxs(D,{variant:"destructive",size:"sm",onClick:()=>A(d.id,d.name),disabled:b.isPending,children:[e.jsx(ss,{className:"h-4 w-4 mr-1"}),"Desvincular"]})]})]},d.id))})})]}),e.jsx(_,{open:a,onOpenChange:o,children:e.jsxs(W,{children:[e.jsxs(K,{children:[e.jsxs(Y,{children:["Adicionar Tutor para ",t]}),e.jsx(J,{children:"Busque um usu√°rio pelo email e vincule como tutor deste pet"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"email",children:"Email do Tutor"}),e.jsx("div",{className:"flex space-x-2",children:e.jsx(z,{id:"email",type:"email",placeholder:"tutor@exemplo.com",value:i,onChange:d=>m(d.target.value)})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isPrimary",checked:x,onChange:d=>N(d.target.checked),className:"rounded"}),e.jsx(w,{htmlFor:"isPrimary",className:"cursor-pointer",children:"Definir como tutor principal"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(D,{variant:"outline",onClick:()=>{o(!1),m(""),N(!1)},children:"Cancelar"}),e.jsx(D,{onClick:F,disabled:u.isPending||v.isPending,children:u.isPending||v.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Vinculando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Vincular Tutor"]})})]})]})]})})]})}function Ss({petId:n,petName:t}){const[a,o]=j.useState("all"),[i,m]=j.useState("90"),{data:x=[],isLoading:N}=g.vaccines.getPetVaccinations.useQuery({petId:n}),{data:r=[],isLoading:c}=g.medications.getPetMedications.useQuery({petId:n}),{data:f=[],isLoading:v}=g.logs.getPetLogs.useQuery({petId:n}),u=N||c||v,b=[...x.map(s=>({type:"vaccine",date:new Date(s.appliedDate),title:s.vaccineName,description:`Dose ${s.doseNumber}${s.nextDoseDate?` - Pr√≥xima dose: ${E(new Date(s.nextDoseDate),"dd/MM/yyyy")}`:""}`,icon:Ze,color:"text-blue-600 bg-blue-100",data:s})),...r.map(s=>({type:"medication",date:new Date(s.startDate),title:s.medicationName,description:`${s.dosage} - ${s.frequency}${s.endDate?` at√© ${E(new Date(s.endDate),"dd/MM/yyyy")}`:""}`,icon:Le,color:"text-green-600 bg-green-100",data:s})),...f.filter(s=>s.notes||s.mood||s.stool||s.appetite).map(s=>({type:"log",date:new Date(s.logDate),title:`Log Di√°rio - ${s.location==="daycare"?"Creche":"Casa"}`,description:s.notes||`Humor: ${s.mood||"N/A"}, Fezes: ${s.stool||"N/A"}, Apetite: ${s.appetite||"N/A"}`,icon:Q,color:"text-gray-600 bg-gray-100",data:s}))],P=a==="all"?b:b.filter(s=>s.type===a),F=new Date,A=new Date;i!=="all"&&A.setDate(F.getDate()-parseInt(i));const d=(i==="all"?P:P.filter(s=>s.date>=A)).sort((s,$)=>$.date.getTime()-s.date.getTime());return e.jsxs(C,{children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(M,{children:["Hist√≥rico de Sa√∫de de ",t]}),e.jsx(I,{children:"Timeline completa de vacinas, medicamentos, preventivos e logs"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(L,{value:a,onValueChange:s=>o(s),children:[e.jsxs(k,{className:"w-[180px]",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),e.jsx(B,{})]}),e.jsxs(R,{children:[e.jsx(h,{value:"all",children:"Todos os Eventos"}),e.jsx(h,{value:"vaccine",children:"Vacinas"}),e.jsx(h,{value:"medication",children:"Medicamentos"}),e.jsx(h,{value:"log",children:"Logs Di√°rios"})]})]}),e.jsxs(L,{value:i,onValueChange:s=>m(s),children:[e.jsxs(k,{className:"w-[160px]",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),e.jsx(B,{})]}),e.jsxs(R,{children:[e.jsx(h,{value:"30",children:"√öltimos 30 dias"}),e.jsx(h,{value:"60",children:"√öltimos 60 dias"}),e.jsx(h,{value:"90",children:"√öltimos 90 dias"}),e.jsx(h,{value:"365",children:"√öltimo ano"}),e.jsx(h,{value:"all",children:"Todo o per√≠odo"})]})]})]})]})}),e.jsx(S,{children:u?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),"Carregando hist√≥rico..."]}):d.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Q,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Nenhum evento encontrado para os filtros selecionados"})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-border"}),e.jsx("div",{className:"space-y-6",children:d.map((s,$)=>{const G=s.icon;return e.jsxs("div",{className:"relative pl-14",children:[e.jsx("div",{className:`absolute left-0 w-12 h-12 rounded-full ${s.color} flex items-center justify-center`,children:e.jsx(G,{className:"h-6 w-6"})}),e.jsxs("div",{className:"bg-card border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-lg",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),E(s.date,"dd 'de' MMMM 'de' yyyy",{locale:Z})]}),e.jsxs("span",{className:"capitalize px-2 py-0.5 rounded bg-accent",children:[s.type==="vaccine"&&"Vacina",s.type==="medication"&&"Medicamento",s.type==="log"&&"Log"]})]})]})}),s.type==="medication"&&s.data.notes&&e.jsx("div",{className:"mt-3 pt-3 border-t text-sm",children:e.jsx("p",{className:"text-muted-foreground",children:s.data.notes})}),s.type==="vaccine"&&s.data.notes&&e.jsx("div",{className:"mt-3 pt-3 border-t text-sm",children:e.jsx("p",{className:"text-muted-foreground",children:s.data.notes})}),s.type==="log"&&e.jsxs("div",{className:"mt-3 pt-3 border-t grid grid-cols-3 gap-4 text-sm",children:[s.data.mood&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Humor:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:s.data.mood})]}),s.data.stool&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Fezes:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:s.data.stool})]}),s.data.appetite&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Apetite:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:s.data.appetite})]})]})]})]},`${s.type}-${$}`)})})]})})]})}const Fs={happy:"#10b981",normal:"#3b82f6",anxious:"#f59e0b",sad:"#ef4444",aggressive:"#dc2626"};function Ps({petId:n,petName:t}){const{data:a=[],isLoading:o}=g.logs.getPetLogs.useQuery({petId:n}),{data:i=[],isLoading:m}=g.medications.getPetMedications.useQuery({petId:n}),{data:x=[],isLoading:N}=g.vaccines.getPetVaccinations.useQuery({petId:n});if(o||m||N)return e.jsx(C,{children:e.jsx(S,{className:"py-8",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})});const c=a.filter(l=>l.weight).sort((l,d)=>new Date(l.logDate).getTime()-new Date(d.logDate).getTime()).slice(-30).map(l=>({date:E(new Date(l.logDate),"dd/MM"),peso:(l.weight/1e3).toFixed(1)})),f=c.length>=2?parseFloat(c[c.length-1].peso)-parseFloat(c[0].peso):0,v={};a.forEach(l=>{l.mood&&(v[l.mood]=(v[l.mood]||0)+1)});const u=Object.entries(v).map(([l,d])=>({name:l==="happy"?"Feliz":l==="normal"?"Normal":l==="anxious"?"Ansioso":l==="sad"?"Triste":"Agressivo",value:d,color:Fs[l]||"#gray"})),b=a.filter(l=>l.appetite).sort((l,d)=>new Date(l.logDate).getTime()-new Date(d.logDate).getTime()).slice(-14).map(l=>({date:E(new Date(l.logDate),"dd/MM"),apetite:l.appetite==="excellent"?5:l.appetite==="good"?4:l.appetite==="normal"?3:l.appetite==="poor"?2:1})),P=a.length,F=i.filter(l=>!l.endDate||new Date(l.endDate)>new Date).length,A=x.filter(l=>l.nextDueDate&&new Date(l.nextDueDate)>new Date).length;return a.length>0&&a[0].mood&&a[0].mood,e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(C,{children:[e.jsxs(T,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"Total de Registros"}),e.jsx(ee,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:P}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Logs de sa√∫de registrados"})]})]}),e.jsxs(C,{children:[e.jsxs(T,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"Medicamentos Ativos"}),e.jsx(Le,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:F}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tratamentos em andamento"})]})]}),e.jsxs(C,{children:[e.jsxs(T,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"Vacinas Pr√≥ximas"}),e.jsx(q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:A}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Doses agendadas"})]})]}),e.jsxs(C,{children:[e.jsxs(T,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"Tend√™ncia de Peso"}),f>=0?e.jsx(Oe,{className:"h-4 w-4 text-green-600"}):e.jsx(He,{className:"h-4 w-4 text-red-600"})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[f>=0?"+":"",f.toFixed(1)," kg"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"√öltimos 30 registros"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.length>0&&e.jsxs(C,{children:[e.jsxs(T,{children:[e.jsx(M,{children:"Evolu√ß√£o de Peso"}),e.jsx(I,{children:"√öltimos 30 registros de peso (kg)"})]}),e.jsx(S,{children:e.jsx(re,{width:"100%",height:300,children:e.jsxs(as,{data:c,children:[e.jsx(Ae,{strokeDasharray:"3 3"}),e.jsx(Te,{dataKey:"date"}),e.jsx(Me,{}),e.jsx(ne,{}),e.jsx($e,{}),e.jsx(ts,{type:"monotone",dataKey:"peso",stroke:"#8884d8",strokeWidth:2,dot:{fill:"#8884d8"},name:"Peso (kg)"})]})})})]}),u.length>0&&e.jsxs(C,{children:[e.jsxs(T,{children:[e.jsx(M,{children:"Distribui√ß√£o de Humor"}),e.jsx(I,{children:"An√°lise comportamental geral"})]}),e.jsx(S,{children:e.jsx(re,{width:"100%",height:300,children:e.jsxs(ns,{children:[e.jsx(os,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:l=>`${l.name}: ${l.value}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:u.map((l,d)=>e.jsx(is,{fill:l.color},`cell-${d}`))}),e.jsx(ne,{})]})})})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:b.length>0&&e.jsxs(C,{children:[e.jsxs(T,{children:[e.jsx(M,{children:"Tend√™ncia de Apetite"}),e.jsx(I,{children:"√öltimos 14 dias (1=Muito Baixo, 5=Excelente)"})]}),e.jsx(S,{children:e.jsx(re,{width:"100%",height:300,children:e.jsxs(ls,{data:b,children:[e.jsx(Ae,{strokeDasharray:"3 3"}),e.jsx(Te,{dataKey:"date"}),e.jsx(Me,{domain:[0,5],ticks:[1,2,3,4,5]}),e.jsx(ne,{}),e.jsx($e,{}),e.jsx(rs,{dataKey:"apetite",fill:"#10b981",name:"N√≠vel de Apetite"})]})})})]})}),P===0&&e.jsx(C,{children:e.jsxs(S,{className:"py-8 text-center",children:[e.jsx(_e,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhum dado de sa√∫de registrado ainda. Comece adicionando logs di√°rios para visualizar m√©tricas e gr√°ficos."})]})})]})}const As=[{id:"passeio",label:"Passeio"},{id:"brincadeira",label:"Brincadeira"},{id:"banho",label:"Banho"},{id:"tosa",label:"Tosa"},{id:"treinamento",label:"Treinamento"},{id:"socializacao",label:"Socializa√ß√£o"},{id:"descanso",label:"Descanso"},{id:"veterinario",label:"Veterin√°rio"}];function Ts({petId:n,petName:t,open:a,onOpenChange:o,onSuccess:i,editLog:m}){const x=g.useUtils(),[N,r]=j.useState(m?.source||"daycare"),[c,f]=j.useState(m?.logDate?new Date(m.logDate).toISOString().slice(0,16):new Date().toISOString().slice(0,16)),[v,u]=j.useState(m?.mood||""),[b,P]=j.useState(m?.stool||""),[F,A]=j.useState(m?.appetite||""),[l,d]=j.useState(m?.behavior||""),[s,$]=j.useState(m?.behaviorNotes||""),[G,me]=j.useState(m?.activities?JSON.parse(m.activities):[]),[xe,he]=j.useState(m?.foodConsumed||""),[ue,je]=j.useState(m?.feedingTime||""),[pe,ge]=j.useState(m?.feedingAmount||""),[fe,ve]=j.useState(m?.feedingAcceptance||""),[se,Ne]=j.useState(m?.weight?(m.weight/1e3).toString():""),[ye,be]=j.useState(m?.notes||""),ae=g.logs.add.useMutation({onSuccess:()=>{y.success("Log di√°rio criado com sucesso!"),x.logs.getPetLogs.invalidate({petId:n}),Ve(),o(!1),i?.()},onError:p=>{y.error(`Erro ao criar log: ${p.message}`)}}),te=g.logs.update.useMutation({onSuccess:()=>{y.success("Log di√°rio atualizado com sucesso!"),x.logs.getPetLogs.invalidate({petId:n}),o(!1),i?.()},onError:p=>{y.error(`Erro ao atualizar log: ${p.message}`)}}),Ve=()=>{r("daycare"),f(new Date().toISOString().slice(0,16)),u(""),P(""),A(""),d(""),$(""),me([]),he(""),je(""),ge(""),ve(""),Ne(""),be("")},Qe=p=>{p.preventDefault();const V={petId:n,logDate:new Date(c),source:N,mood:v||void 0,stool:b||void 0,appetite:F||void 0,behavior:l||void 0,behaviorNotes:s||void 0,activities:G.length>0?JSON.stringify(G):void 0,foodConsumed:xe||void 0,feedingTime:ue||void 0,feedingAmount:pe||void 0,feedingAcceptance:fe||void 0,weight:se?Math.round(parseFloat(se)*1e3):void 0,notes:ye||void 0};m?te.mutate({id:m.id,...V}):ae.mutate(V)},qe=p=>{me(V=>V.includes(p)?V.filter(Ge=>Ge!==p):[...V,p])};return e.jsx(_,{open:a,onOpenChange:o,children:e.jsxs(W,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(K,{children:[e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),m?"Editar":"Novo"," Log Di√°rio - ",t]}),e.jsx(J,{children:"Registre as informa√ß√µes do dia do pet de forma completa"})]}),e.jsxs("form",{onSubmit:Qe,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),"Local e Data"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"source",children:"Local *"}),e.jsxs(L,{value:N,onValueChange:p=>r(p),children:[e.jsx(k,{id:"source",children:e.jsx(B,{})}),e.jsxs(R,{children:[e.jsx(h,{value:"daycare",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),"Creche"]})}),e.jsx(h,{value:"home",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"Casa"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"logDate",children:"Data e Hora *"}),e.jsx(z,{id:"logDate",type:"datetime-local",value:c,onChange:p=>f(p.target.value),required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4"}),"Indicadores de Sa√∫de"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"mood",children:"Humor"}),e.jsxs(L,{value:v,onValueChange:u,children:[e.jsx(k,{id:"mood",children:e.jsx(B,{placeholder:"Selecione..."})}),e.jsxs(R,{children:[e.jsx(h,{value:"feliz",children:"üòä Feliz"}),e.jsx(h,{value:"calmo",children:"üòå Calmo"}),e.jsx(h,{value:"ansioso",children:"üò∞ Ansioso"}),e.jsx(h,{value:"triste",children:"üò¢ Triste"}),e.jsx(h,{value:"agitado",children:"üò§ Agitado"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"stool",children:"Fezes"}),e.jsxs(L,{value:b,onValueChange:P,children:[e.jsx(k,{id:"stool",children:e.jsx(B,{placeholder:"Selecione..."})}),e.jsxs(R,{children:[e.jsx(h,{value:"normal",children:"‚úÖ Normal"}),e.jsx(h,{value:"diarreia",children:"üíß Diarreia"}),e.jsx(h,{value:"constipado",children:"üö´ Constipado"}),e.jsx(h,{value:"nao_fez",children:"‚ùå N√£o fez"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"appetite",children:"Apetite"}),e.jsxs(L,{value:F,onValueChange:A,children:[e.jsx(k,{id:"appetite",children:e.jsx(B,{placeholder:"Selecione..."})}),e.jsxs(R,{children:[e.jsx(h,{value:"normal",children:"üòä Normal"}),e.jsx(h,{value:"aumentado",children:"üòã Aumentado"}),e.jsx(h,{value:"diminuido",children:"üòê Diminu√≠do"}),e.jsx(h,{value:"nao_comeu",children:"üòû N√£o comeu"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4"}),"Comportamento"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"behavior",children:"Tipo de Comportamento"}),e.jsx(z,{id:"behavior",placeholder:"Ex: Brincalh√£o, Calmo, Agressivo...",value:l,onChange:p=>d(p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"behaviorNotes",children:"Observa√ß√µes sobre Comportamento"}),e.jsx(le,{id:"behaviorNotes",placeholder:"Descreva comportamentos espec√≠ficos observados...",value:s,onChange:p=>$(p.target.value),rows:3})]})]})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-semibold",children:"Atividades Realizadas"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:As.map(p=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:p.id,checked:G.includes(p.id),onCheckedChange:()=>qe(p.id)}),e.jsx(w,{htmlFor:p.id,className:"text-sm font-normal cursor-pointer",children:p.label})]},p.id))})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"Alimenta√ß√£o"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"foodConsumed",children:"Quantidade Consumida"}),e.jsxs(L,{value:xe,onValueChange:he,children:[e.jsx(k,{id:"foodConsumed",children:e.jsx(B,{placeholder:"Selecione..."})}),e.jsxs(R,{children:[e.jsx(h,{value:"all",children:"Tudo"}),e.jsx(h,{value:"half",children:"Metade"}),e.jsx(h,{value:"little",children:"Pouco"}),e.jsx(h,{value:"none",children:"Nada"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"feedingTime",children:"Hor√°rio"}),e.jsx(z,{id:"feedingTime",type:"time",value:ue,onChange:p=>je(p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"feedingAmount",children:"Quantidade Oferecida"}),e.jsx(z,{id:"feedingAmount",placeholder:"Ex: 200g, 1 x√≠cara...",value:pe,onChange:p=>ge(p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"feedingAcceptance",children:"Aceita√ß√£o"}),e.jsxs(L,{value:fe,onValueChange:ve,children:[e.jsx(k,{id:"feedingAcceptance",children:e.jsx(B,{placeholder:"Selecione..."})}),e.jsxs(R,{children:[e.jsx(h,{value:"excelente",children:"‚≠ê Excelente"}),e.jsx(h,{value:"boa",children:"üëç Boa"}),e.jsx(h,{value:"regular",children:"üòê Regular"}),e.jsx(h,{value:"ruim",children:"üëé Ruim"}),e.jsx(h,{value:"recusou",children:"‚ùå Recusou"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-semibold",children:"Informa√ß√µes Adicionais"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"weight",children:"Peso (kg)"}),e.jsx(z,{id:"weight",type:"number",step:"0.1",placeholder:"Ex: 5.5",value:se,onChange:p=>Ne(p.target.value)})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"notes",children:"Notas e Observa√ß√µes Gerais"}),e.jsx(le,{id:"notes",placeholder:"Outras informa√ß√µes importantes sobre o dia...",value:ye,onChange:p=>be(p.target.value),rows:4})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(D,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),e.jsx(D,{type:"submit",disabled:ae.isPending||te.isPending,children:ae.isPending||te.isPending?"Salvando...":m?"Atualizar":"Criar Log"})]})]})]})})}const Ms={feliz:"üòä",calmo:"üòå",ansioso:"üò∞",triste:"üò¢",agitado:"üò§"},$s={normal:"‚úÖ",diarreia:"üíß",constipado:"üö´",nao_fez:"‚ùå"},Es={normal:"üòä",aumentado:"üòã",diminuido:"üòê",nao_comeu:"üòû"};function zs({petId:n,petName:t}){const[a,o]=j.useState(!1),[i,m]=j.useState(null),[x,N]=j.useState("all"),[r,c]=j.useState("30"),f=g.useUtils(),v=()=>{if(r==="all")return{};const s=new Date,$=new Date;return $.setDate($.getDate()-parseInt(r)),{startDate:$,endDate:s}},{data:u=[],isLoading:b}=g.logs.getPetLogs.useQuery({petId:n,...v()}),P=g.logs.delete.useMutation({onSuccess:()=>{y.success("Log exclu√≠do com sucesso!"),f.logs.getPetLogs.invalidate({petId:n})},onError:s=>{y.error(`Erro ao excluir log: ${s.message}`)}}),F=s=>{m(s),o(!0)},A=s=>{confirm("Tem certeza que deseja excluir este log?")&&P.mutate({id:s})},l=()=>{o(!1),m(null)},d=u.filter(s=>x==="all"?!0:s.source===x);return b?e.jsx(C,{children:e.jsx(S,{className:"py-8",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(C,{children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),"Logs Di√°rios"]}),e.jsx(I,{children:"Hist√≥rico completo de registros do pet"})]}),e.jsxs(D,{onClick:()=>o(!0),children:[e.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Novo Log"]})]})}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Filtros:"})]}),e.jsxs(L,{value:x,onValueChange:s=>N(s),children:[e.jsx(k,{className:"w-[180px]",children:e.jsx(B,{})}),e.jsxs(R,{children:[e.jsx(h,{value:"all",children:"Todos os locais"}),e.jsx(h,{value:"daycare",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),"Creche"]})}),e.jsx(h,{value:"home",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"Casa"]})})]})]}),e.jsxs(L,{value:r,onValueChange:s=>c(s),children:[e.jsx(k,{className:"w-[180px]",children:e.jsx(B,{})}),e.jsxs(R,{children:[e.jsx(h,{value:"7",children:"√öltimos 7 dias"}),e.jsx(h,{value:"30",children:"√öltimos 30 dias"}),e.jsx(h,{value:"90",children:"√öltimos 90 dias"}),e.jsx(h,{value:"all",children:"Todo o per√≠odo"})]})]})]})})]}),e.jsx("div",{className:"space-y-4",children:d.length===0?e.jsx(C,{children:e.jsxs(S,{className:"py-12 text-center",children:[e.jsx(Q,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:x!=="all"?`Nenhum log registrado ${x==="home"?"em casa":"na creche"} neste per√≠odo.`:"Nenhum log registrado neste per√≠odo."}),e.jsxs(D,{className:"mt-4",onClick:()=>o(!0),children:[e.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Log"]})]})}):d.map(s=>e.jsxs(C,{children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(q,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:E(new Date(s.logDate),"dd/MM")})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"text-lg",children:E(new Date(s.logDate),"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Z})}),e.jsx(U,{variant:s.source==="daycare"?"default":"secondary",children:s.source==="daycare"?e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"h-3 w-3 mr-1"}),"Creche"]}):e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"h-3 w-3 mr-1"}),"Casa"]})})]}),e.jsx(I,{children:E(new Date(s.logDate),"HH:mm")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:"ghost",size:"icon",onClick:()=>F(s),children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx(D,{variant:"ghost",size:"icon",onClick:()=>A(s.id),disabled:P.isPending,children:e.jsx(ms,{className:"h-4 w-4"})})]})]})}),e.jsxs(S,{className:"space-y-4",children:[(s.mood||s.stool||s.appetite)&&e.jsxs("div",{className:"flex items-center gap-6 p-3 bg-muted rounded-lg",children:[e.jsx(Ie,{className:"h-5 w-5 text-muted-foreground"}),s.mood&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:Ms[s.mood]}),e.jsx("span",{className:"text-sm capitalize",children:s.mood})]}),s.stool&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:$s[s.stool]}),e.jsx("span",{className:"text-sm capitalize",children:s.stool.replace("_"," ")})]}),s.appetite&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:Es[s.appetite]}),e.jsx("span",{className:"text-sm capitalize",children:s.appetite.replace("_"," ")})]})]}),(s.behavior||s.behaviorNotes)&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(ee,{className:"h-4 w-4"}),"Comportamento"]}),s.behavior&&e.jsx(U,{variant:"outline",children:s.behavior}),s.behaviorNotes&&e.jsx("p",{className:"text-sm text-muted-foreground pl-6",children:s.behaviorNotes})]}),s.activities&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(ee,{className:"h-4 w-4"}),"Atividades"]}),e.jsx("div",{className:"flex flex-wrap gap-2 pl-6",children:JSON.parse(s.activities).map($=>e.jsx(U,{variant:"secondary",children:$},$))})]}),(s.foodConsumed||s.feedingTime||s.feedingAmount||s.feedingAcceptance)&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(de,{className:"h-4 w-4"}),"Alimenta√ß√£o"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 pl-6 text-sm",children:[s.feedingTime&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Hor√°rio:"})," ",s.feedingTime]}),s.feedingAmount&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Quantidade:"})," ",s.feedingAmount]}),s.foodConsumed&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Consumiu:"})," ",s.foodConsumed==="all"?"Tudo":s.foodConsumed==="half"?"Metade":s.foodConsumed==="little"?"Pouco":"Nada"]}),s.feedingAcceptance&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Aceita√ß√£o:"})," ",s.feedingAcceptance]})]})]}),s.weight&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Peso:"})," ",(s.weight/1e3).toFixed(1)," kg"]}),s.notes&&e.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(Q,{className:"h-4 w-4"}),"Observa√ß√µes"]}),e.jsx("p",{className:"text-sm text-muted-foreground pl-6",children:s.notes})]})]})]},s.id))}),e.jsx(Ts,{petId:n,petName:t,open:a,onOpenChange:l,editLog:i})]})}function Ls({petId:n,onPurchaseSuccess:t}){const[a,o]=j.useState(null),{data:i,isLoading:m}=g.credits.getPackages.useQuery(),x=g.credits.purchasePackage.useMutation({onSuccess:r=>{y.success(`Compra realizada! ${r.credits} cr√©ditos adicionados com sucesso.`),o(null),t?.()},onError:r=>{y.error(`Erro na compra: ${r.message}`)}}),N=r=>{x.mutate({petId:n,packageId:r})};return m?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(De,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):!i||i.length===0?e.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"Nenhum pacote dispon√≠vel no momento."}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(r=>{const c=r.priceInCents/100,f=c/r.credits,v=r.discountPercent>=15;return e.jsxs(C,{className:`relative ${v?"border-primary shadow-lg":""}`,children:[v&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsx(U,{className:"bg-primary",children:"Mais Popular"})}),e.jsxs(T,{children:[e.jsxs(M,{className:"flex items-center justify-between",children:[r.name,r.discountPercent>0&&e.jsxs(U,{variant:"secondary",className:"ml-2",children:["-",r.discountPercent,"%"]})]}),e.jsx(I,{children:r.description})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-4xl font-bold",children:["R$ ",c.toFixed(2)]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["R$ ",f.toFixed(2)," por cr√©dito"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4 text-primary"}),e.jsxs("span",{className:"text-sm",children:[r.credits," cr√©ditos"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm",children:"V√°lido por 6 meses"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm",children:"1 cr√©dito = 1 dia de creche"})]})]})]}),e.jsx(We,{children:e.jsx(D,{className:"w-full",size:"lg",variant:v?"default":"outline",disabled:x.isPending&&a===r.id,onClick:()=>{o(r.id),N(r.id)},children:x.isPending&&a===r.id?e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xs,{className:"mr-2 h-4 w-4"}),"Comprar Agora"]})})})]},r.id)})})}function ks({petId:n}){const[t,a]=j.useState(!1),{data:o,isLoading:i,refetch:m}=g.credits.getBalance.useQuery({petId:n}),{data:x,isLoading:N,refetch:r}=g.credits.getHistory.useQuery({petId:n}),{data:c}=g.credits.getUsageHistory.useQuery({petId:n}),f=(o||0)<5,v=()=>{a(!1),m(),r()};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{className:f?"border-orange-500":"",children:[e.jsxs(T,{children:[e.jsxs(M,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"h-5 w-5"}),"Saldo de Cr√©ditos"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[f&&e.jsxs(U,{variant:"destructive",className:"gap-1",children:[e.jsx(Ce,{className:"h-3 w-3"}),"Saldo Baixo"]}),e.jsxs(D,{size:"sm",onClick:()=>a(!0),className:"gap-2",children:[e.jsx(us,{className:"h-4 w-4"}),"Comprar Pacote"]})]})]}),e.jsx(I,{children:"1 cr√©dito = 1 dia de creche"})]}),e.jsx(S,{children:i?e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Carregando..."}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-5xl font-bold ${f?"text-orange-500":"text-primary"}`,children:o||0}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:o===1?"cr√©dito dispon√≠vel":"cr√©ditos dispon√≠veis"})]}),f&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 text-sm text-orange-800",children:[e.jsxs("p",{className:"font-medium flex items-center gap-2",children:[e.jsx(Ce,{className:"h-4 w-4"}),"Aten√ß√£o: Saldo baixo"]}),e.jsx("p",{className:"mt-1",children:"Recomendamos adicionar mais cr√©ditos para garantir o atendimento cont√≠nuo na creche."})]})]})})]}),e.jsxs(C,{children:[e.jsx(T,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(js,{className:"h-5 w-5"}),"Hist√≥rico"]})}),e.jsx(S,{children:e.jsxs(ke,{defaultValue:"purchases",className:"w-full",children:[e.jsxs(Be,{className:"grid w-full grid-cols-2",children:[e.jsx(O,{value:"purchases",children:"Compras"}),e.jsx(O,{value:"usage",children:"Consumo"})]}),e.jsx(H,{value:"purchases",className:"space-y-4 mt-4",children:N?e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Carregando..."}):x&&x.length>0?e.jsx("div",{className:"space-y-2",children:x.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-accent transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Oe,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Pacote de ",u.packageDays," cr√©ditos"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:E(new Date(u.purchaseDate),"dd 'de' MMMM 'de' yyyy",{locale:Z})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-green-600",children:["+",u.packageDays]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["R$ ",(u.packagePrice/100).toFixed(2)]})]})]},u.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma compra registrada"})}),e.jsx(H,{value:"usage",className:"space-y-4 mt-4",children:c&&c.length>0?e.jsx("div",{className:"space-y-2",children:c.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-accent transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center",children:e.jsx(He,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Dia de creche"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:E(new Date(u.usageDate),"dd 'de' MMMM 'de' yyyy",{locale:Z})}),u.checkInTime&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Check-in: ",E(new Date(u.checkInTime),"HH:mm"),u.checkOutTime&&` ‚Ä¢ Check-out: ${E(new Date(u.checkOutTime),"HH:mm")}`]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-bold text-orange-600",children:"-1"})})]},u.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum consumo registrado"})})]})})]}),e.jsx(_,{open:t,onOpenChange:a,children:e.jsxs(W,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(K,{children:[e.jsx(Y,{children:"Comprar Pacote de Cr√©ditos"}),e.jsx(J,{children:"Escolha um pacote de cr√©ditos para adicionar ao saldo do pet"})]}),e.jsx(Ls,{petId:n,onPurchaseSuccess:v})]})})]})}function Bs(n){const t=new fs;let a=20;const o=7,i=t.internal.pageSize.height,m=20,x=r=>{a+r>i-m&&(t.addPage(),a=20)};t.setFontSize(20),t.setFont("helvetica","bold"),t.text("Relat√≥rio de Sa√∫de",105,a,{align:"center"}),a+=10,t.setFontSize(12),t.setFont("helvetica","normal"),t.text("TucoCare - Gest√£o de Creche de Pets",105,a,{align:"center"}),a+=15,t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Informa√ß√µes do Pet",20,a),a+=o,t.setFontSize(11),t.setFont("helvetica","normal"),t.text(`Nome: ${n.pet.name}`,20,a),a+=o,t.text(`Esp√©cie: ${n.pet.species}`,20,a),a+=o,t.text(`Ra√ßa: ${n.pet.breed}`,20,a),a+=o,n.pet.birthDate&&(t.text(`Data de Nascimento: ${new Date(n.pet.birthDate).toLocaleDateString("pt-BR")}`,20,a),a+=o),n.pet.weight&&(t.text(`Peso: ${n.pet.weight} kg`,20,a),a+=o),a+=5,x(30),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Hist√≥rico de Vacina√ß√£o",20,a),a+=o+2,n.vaccinations.length===0?(t.setFontSize(10),t.setFont("helvetica","italic"),t.text("Nenhuma vacina√ß√£o registrada",25,a),a+=o+3):n.vaccinations.forEach((r,c)=>{x(25),t.setFontSize(11),t.setFont("helvetica","bold"),t.text(`${c+1}. ${r.vaccineName}`,25,a),a+=o,t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`   Data de Aplica√ß√£o: ${new Date(r.applicationDate).toLocaleDateString("pt-BR")}`,25,a),a+=o-1,r.nextDueDate&&(t.text(`   Pr√≥xima Dose: ${new Date(r.nextDueDate).toLocaleDateString("pt-BR")}`,25,a),a+=o-1),r.batchNumber&&(t.text(`   Lote: ${r.batchNumber}`,25,a),a+=o-1),r.veterinarian&&(t.text(`   Veterin√°rio: ${r.veterinarian}`,25,a),a+=o-1),r.notes&&(t.text(`   Observa√ß√µes: ${r.notes}`,25,a),a+=o-1),a+=3}),a+=3,x(30),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Hist√≥rico de Medicamentos",20,a),a+=o+2,n.medications.length===0?(t.setFontSize(10),t.setFont("helvetica","italic"),t.text("Nenhum medicamento registrado",25,a),a+=o+3):n.medications.forEach((r,c)=>{x(25),t.setFontSize(11),t.setFont("helvetica","bold"),t.text(`${c+1}. ${r.medicationName}`,25,a),a+=o,t.setFontSize(10),t.setFont("helvetica","normal"),r.medicationType&&(t.text(`   Tipo: ${r.medicationType}`,25,a),a+=o-1);const f=r.endDate?new Date(r.endDate).toLocaleDateString("pt-BR"):"Em andamento";t.text(`   Per√≠odo: ${new Date(r.startDate).toLocaleDateString("pt-BR")} a ${f}`,25,a),a+=o-1,t.text(`   Dosagem: ${r.dosage}`,25,a),a+=o-1,r.frequency&&(t.text(`   Frequ√™ncia: ${r.frequency}`,25,a),a+=o-1),r.notes&&(t.text(`   Observa√ß√µes: ${r.notes}`,25,a),a+=o-1),a+=3}),a+=3,x(30),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Hist√≥rico de Antipulgas",20,a),a+=o+2,n.preventives.flea.length===0?(t.setFontSize(10),t.setFont("helvetica","italic"),t.text("Nenhum tratamento antipulgas registrado",25,a),a+=o+3):n.preventives.flea.forEach((r,c)=>{x(20),t.setFontSize(11),t.setFont("helvetica","bold"),t.text(`${c+1}. ${r.productName}`,25,a),a+=o,t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`   Data de Aplica√ß√£o: ${new Date(r.applicationDate).toLocaleDateString("pt-BR")}`,25,a),a+=o-1,t.text(`   Pr√≥xima Aplica√ß√£o: ${new Date(r.nextDueDate).toLocaleDateString("pt-BR")}`,25,a),a+=o-1,r.notes&&(t.text(`   Observa√ß√µes: ${r.notes}`,25,a),a+=o-1),a+=3}),a+=3,x(30),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Hist√≥rico de Verm√≠fugos",20,a),a+=o+2,n.preventives.deworming.length===0?(t.setFontSize(10),t.setFont("helvetica","italic"),t.text("Nenhum tratamento verm√≠fugo registrado",25,a),a+=o+3):n.preventives.deworming.forEach((r,c)=>{x(20),t.setFontSize(11),t.setFont("helvetica","bold"),t.text(`${c+1}. ${r.productName}`,25,a),a+=o,t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`   Data de Aplica√ß√£o: ${new Date(r.applicationDate).toLocaleDateString("pt-BR")}`,25,a),a+=o-1,t.text(`   Pr√≥xima Aplica√ß√£o: ${new Date(r.nextDueDate).toLocaleDateString("pt-BR")}`,25,a),a+=o-1,r.notes&&(t.text(`   Observa√ß√µes: ${r.notes}`,25,a),a+=o-1),a+=3});const N=t.getNumberOfPages();for(let r=1;r<=N;r++)t.setPage(r),t.setFontSize(9),t.setFont("helvetica","normal"),t.text(`Relat√≥rio gerado em ${new Date().toLocaleDateString("pt-BR")} √†s ${new Date().toLocaleTimeString("pt-BR")}`,105,i-10,{align:"center"}),t.text(`P√°gina ${r} de ${N}`,105,i-5,{align:"center"});t.save(`relatorio-saude-${n.pet.name.toLowerCase().replace(/\s+/g,"-")}.pdf`)}function za(){const n=Ke(),t=parseInt(n.id),[a,o]=j.useState(!1),{data:i,isLoading:m,refetch:x}=g.pets.byId.useQuery({id:t}),{data:N=[]}=g.vaccines.getPetVaccinations.useQuery({petId:t}),{data:r=[]}=g.medications.getPetMedications.useQuery({petId:t}),{data:c=[]}=g.logs.getPetLogs.useQuery({petId:t});g.useUtils();const f=g.pets.updateAdmin.useMutation({onSuccess:()=>{x()}});if(m)return e.jsx(ie,{children:e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})});if(!i)return e.jsx(ie,{children:e.jsx("div",{className:"container mx-auto py-8",children:e.jsx(C,{children:e.jsxs(S,{className:"py-8 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"Pet n√£o encontrado"}),e.jsx(Se,{href:"/admin/pets",children:e.jsx(D,{variant:"link",className:"mt-4",children:"Voltar para lista de pets"})})]})})})});const{data:v,isLoading:u}=g.healthReports.getPetHealthHistory.useQuery({petId:t}),b=()=>{if(!v){y.error("Hist√≥rico de sa√∫de n√£o dispon√≠vel");return}try{Bs(v),y.success("Relat√≥rio PDF gerado com sucesso!")}catch(F){console.error("Error generating PDF:",F),y.error("Erro ao gerar relat√≥rio PDF")}},P=()=>{if(!i.birthDate)return"N/A";const F=new Date(i.birthDate),A=new Date,l=(A.getFullYear()-F.getFullYear())*12+(A.getMonth()-F.getMonth()),d=Math.floor(l/12),s=l%12;return d===0?`${s} ${s===1?"m√™s":"meses"}`:s===0?`${d} ${d===1?"ano":"anos"}`:`${d} ${d===1?"ano":"anos"} e ${s} ${s===1?"m√™s":"meses"}`};return e.jsxs(ie,{children:[e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Se,{href:"/admin/pets",children:e.jsx(D,{variant:"ghost",size:"icon",children:e.jsx(vs,{className:"h-5 w-5"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:i.name}),e.jsx("p",{className:"text-muted-foreground",children:i.breed||"Ra√ßa n√£o informada"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{variant:i.status==="checked-in"?"default":"secondary",className:"text-sm",children:i.status==="checked-in"?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-1"}),"Na Creche"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ns,{className:"h-4 w-4 mr-1"}),"Fora da Creche"]})}),e.jsxs(D,{onClick:()=>o(!0),children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Editar Informa√ß√µes"]}),e.jsxs(D,{variant:"outline",onClick:b,disabled:u,children:[e.jsx(ys,{className:"h-4 w-4 mr-2"}),u?"Carregando...":"Baixar Relat√≥rio PDF"]})]})]}),e.jsx(C,{children:e.jsxs(S,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-start space-x-8",children:[e.jsx(ws,{currentPhotoUrl:i.photoUrl,petId:i.id,petName:i.name,onPhotoUpdated:F=>{f.mutate({id:i.id,photoUrl:F})}}),e.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center mb-1",children:[e.jsx(q,{className:"h-4 w-4 mr-1"}),"Idade"]}),e.jsx("p",{className:"text-lg font-semibold",children:P()}),i.birthDate&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Nascimento: ",E(new Date(i.birthDate),"dd/MM/yyyy")]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center mb-1",children:[e.jsx(bs,{className:"h-4 w-4 mr-1"}),"Peso"]}),e.jsx("p",{className:"text-lg font-semibold",children:i.weight?`${(i.weight/1e3).toFixed(1)} kg`:"N/A"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center mb-1",children:[e.jsx(de,{className:"h-4 w-4 mr-1"}),"Alimenta√ß√£o"]}),e.jsx("p",{className:"text-lg font-semibold",children:i.foodBrand||"N/A"}),i.foodAmount&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.foodAmount,"g por dia"]})]})]})]}),i.notes&&e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Observa√ß√µes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.notes})]})]})}),e.jsxs(ke,{defaultValue:"metrics",className:"space-y-4",children:[e.jsxs(Be,{className:"grid w-full grid-cols-7",children:[e.jsx(O,{value:"metrics",children:"M√©tricas"}),e.jsx(O,{value:"logs",children:"Logs Di√°rios"}),e.jsx(O,{value:"health",children:"Hist√≥rico"}),e.jsx(O,{value:"photos",children:"Fotos"}),e.jsx(O,{value:"credits",children:"Cr√©ditos"}),e.jsx(O,{value:"documents",children:"Documentos"}),e.jsx(O,{value:"tutors",children:"Tutores"})]}),e.jsx(H,{value:"metrics",className:"space-y-4",children:e.jsx(Ps,{petId:i.id,petName:i.name})}),e.jsx(H,{value:"logs",className:"space-y-4",children:e.jsx(zs,{petId:i.id,petName:i.name})}),e.jsx(H,{value:"health",className:"space-y-4",children:e.jsx(Ss,{petId:i.id,petName:i.name})}),e.jsx(H,{value:"photos",className:"space-y-4",children:e.jsx(cs,{petId:i.id,canUpload:!0,canDelete:!0})}),e.jsx(H,{value:"credits",className:"space-y-4",children:e.jsx(ks,{petId:i.id})}),e.jsxs(H,{value:"documents",className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx(ps,{petId:i.id,onUploadSuccess:x})}),e.jsx(gs,{petId:i.id})]}),e.jsx(H,{value:"tutors",className:"space-y-4",children:e.jsx(Cs,{petId:i.id,petName:i.name})})]})]}),e.jsx(Ds,{pet:i,isOpen:a,onClose:()=>o(!1),onSuccess:()=>{x()}})]})}export{za as default};
