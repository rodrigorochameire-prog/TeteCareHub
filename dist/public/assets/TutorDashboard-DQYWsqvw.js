import{r as S,t as x,j as e,ag as B,B as a,L as r,C as i,b as l,d as n,i as H,aD as m,f as c,D as h,K as L,e as N,n as V}from"./index-DG0yx2hi.js";import{B as v,F as p,A as F,c as I,S as E,P as O}from"./popover-Bqiz4euq.js";import{P as Q}from"./progress-BQ_EYLtW.js";import{T as b}from"./TutorLayout-lMG2oLBz.js";import{D as U,W}from"./WhatsAppContactButton-DD3dD6HK.js";import{H as $}from"./HealthBehaviorModal-By63wK8n.js";import{C as j}from"./credit-card-CxD7Buqp.js";import{A as u}from"./activity-DL-_hozy.js";import{S as w}from"./shopping-bag-B54fr_Tl.js";import{P as y}from"./package-CC5WVNv6.js";import{T as q}from"./trending-up-C2VanZIM.js";import"./NotificationBell-BIuiN9Fe.js";import"./pt-BR-BIS3WgEC.js";import"./info-DReA-lTp.js";import"./message-square-COhalQ2E.js";import"./chart-column-B4FPjduw.js";import"./user-B4BzRHVK.js";import"./meh-DzyMYYW6.js";import"./smile-Bn_kV9F9.js";import"./utensils-CgVj1FvD.js";import"./textarea-BfRN5q_Y.js";import"./send-BU_qFC5s.js";import"./select-k5kl2mY3.js";import"./index-BdQq_4o_.js";import"./index-r4-iOF84.js";import"./chevron-down-CKVtRMqG.js";import"./check-DDByOptX.js";function ve(){const[k,g]=S.useState(!1),{data:t,isLoading:C}=x.pets.listMine.useQuery(),{data:A}=x.notifications.getUserNotifications.useQuery(),{data:z}=x.logs.listMine.useQuery(),f=(z||[]).filter(s=>s.source==="daycare").sort((s,o)=>new Date(o.logDate).getTime()-new Date(s.logDate).getTime()).slice(0,3),P=A?.filter(s=>!s.isRead)||[],D=t?.reduce((s,o)=>s+o.credits,0)||0,R=t?.filter(s=>s.status==="checked-in").length||0,T=t?.filter(s=>s.status==="checked-in").length||0,d=[];return t?.forEach(s=>{s.credits<5&&d.push({type:"credits",petName:s.name,message:`Saldo baixo: ${s.credits} diárias restantes`,severity:s.credits===0?"high":"medium",icon:j})}),C?e.jsx(b,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):e.jsxs(b,{children:[e.jsxs("div",{className:"container py-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(B,{className:"h-8 w-8 text-primary"}),"Central de Monitoramento"]}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Acompanhe tudo sobre seus pets em um só lugar"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(a,{variant:"outline",size:"sm",onClick:()=>g(!0),children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"Registrar Saúde"]}),e.jsx(r,{href:"/tutor/credits",children:e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Comprar Créditos"]})}),e.jsx(r,{href:"/tutor/subscriptions",children:e.jsxs(a,{size:"sm",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Ver Planos"]})})]})]}),d.length>0&&e.jsxs(i,{className:"border-orange-200 bg-orange-50 dark:bg-orange-950/20",children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(n,{className:"flex items-center gap-2 text-orange-700 dark:text-orange-400",children:[e.jsx(H,{className:"h-5 w-5"}),"Alertas Importantes",d.length>5&&e.jsx(v,{variant:"secondary",className:"ml-2",children:d.length})]}),d.length>5&&e.jsx(r,{href:"/tutor/credits",children:e.jsxs(a,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-700",children:["Ver todos ",e.jsx(m,{className:"h-4 w-4 ml-1"})]})})]})}),e.jsxs(c,{className:"space-y-2",children:[d.slice(0,5).map((s,o)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-orange-200",children:[e.jsx(s.icon,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:s.petName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.message})]}),e.jsx(r,{href:"/tutor/credits",children:e.jsx(a,{size:"sm",variant:"outline",children:"Resolver"})})]},o)),d.length>5&&e.jsx("div",{className:"text-center pt-2",children:e.jsx(r,{href:"/tutor/credits",children:e.jsxs(a,{variant:"link",size:"sm",className:"text-orange-600",children:["+ ",d.length-5," alertas adicionais"]})})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(i,{className:"shadow-card hover:shadow-lg transition-shadow",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Total de Pets"}),e.jsx(h,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t?.length||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[R," ativos"]})]})]}),e.jsxs(i,{className:"shadow-card hover:shadow-lg transition-shadow",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Na Creche Hoje"}),e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"pets presentes"})]})]}),e.jsxs(i,{className:"shadow-card hover:shadow-lg transition-shadow",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Créditos Totais"}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:D}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"diárias disponíveis"})]})]}),e.jsxs(i,{className:"shadow-card hover:shadow-lg transition-shadow",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Notificações"}),e.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:P.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"não lidas"})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(i,{className:"shadow-card",children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-5 w-5"}),"Meus Pets"]}),e.jsx(r,{href:"/tutor/pets",children:e.jsxs(a,{variant:"ghost",size:"sm",children:["Ver todos ",e.jsx(m,{className:"h-4 w-4 ml-1"})]})})]})}),e.jsx(c,{className:"space-y-4",children:!t||t.length===0?e.jsxs("div",{className:"empty-state py-8",children:[e.jsx(h,{className:"empty-state-icon"}),e.jsx("p",{className:"empty-state-title",children:"Nenhum pet cadastrado"}),e.jsx("p",{className:"empty-state-description",children:"Cadastre seu primeiro pet para começar"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:t.slice(0,6).map(s=>e.jsx(r,{href:`/tutor/pets/${s.id}`,children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-border hover:bg-accent transition-colors cursor-pointer",children:[e.jsx(F,{className:"h-12 w-12",children:e.jsx(I,{className:"bg-primary/10 text-primary font-bold",children:s.name.substring(0,2).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.breed})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(v,{variant:s.status==="checked-in"?"default":"secondary",children:s.status==="checked-in"?"Na creche":"Fora da creche"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[s.credits," créditos"]}),e.jsx(Q,{value:Math.min(s.credits/10*100,100),className:"h-1 mt-2"})]})]})},s.id))}),t.length>6&&e.jsx("div",{className:"text-center pt-4 border-t",children:e.jsx(r,{href:"/tutor/pets",children:e.jsxs(a,{variant:"link",size:"sm",children:["+ ",t.length-6," pets adicionais"]})})})]})})]}),e.jsxs(i,{className:"shadow-card hover-lift",children:[e.jsxs(l,{children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-pink-500 to-rose-500 rounded-lg",children:e.jsx(L,{className:"h-5 w-5 text-white"})}),"Saúde & Cuidados"]}),e.jsx(N,{children:"Mantenha a saúde dos seus pets em dia"})]}),e.jsx(c,{children:e.jsxs("div",{className:"grid gap-3",children:[e.jsx(r,{href:"/tutor/preventive",children:e.jsx("div",{className:"group relative p-4 rounded-lg border-2 border-border hover:border-primary bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20 transition-all cursor-pointer hover-lift",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg group-hover:scale-110 transition-transform",children:e.jsx(E,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Preventivo"}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Vacinas, antipulgas, vermífugos"})]})]}),e.jsx(m,{className:"h-5 w-5 text-blue-600 group-hover:translate-x-1 transition-transform"})]})})}),e.jsx(r,{href:"/tutor/medications",children:e.jsx("div",{className:"group relative p-4 rounded-lg border-2 border-border hover:border-primary bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950/20 dark:to-pink-950/20 transition-all cursor-pointer hover-lift",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg group-hover:scale-110 transition-transform",children:e.jsx(O,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-purple-900 dark:text-purple-100",children:"Medicamentos"}),e.jsx("p",{className:"text-xs text-purple-700 dark:text-purple-300",children:"Tratamentos e remédios ativos"})]})]}),e.jsx(m,{className:"h-5 w-5 text-purple-600 group-hover:translate-x-1 transition-transform"})]})})}),e.jsx(r,{href:"/tutor/food",children:e.jsx("div",{className:"group relative p-4 rounded-lg border-2 border-border hover:border-primary bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-950/20 dark:to-orange-950/20 transition-all cursor-pointer hover-lift",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-500 rounded-lg group-hover:scale-110 transition-transform",children:e.jsx(w,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"Ração"}),e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Alimentação e preferências"})]})]}),e.jsx(m,{className:"h-5 w-5 text-amber-600 group-hover:translate-x-1 transition-transform"})]})})})]})})]})]}),e.jsxs(i,{className:"shadow-card",children:[e.jsxs(l,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"Últimos Relatórios da Creche"]}),e.jsx(r,{href:"/tutor/pets",children:e.jsxs(a,{variant:"ghost",size:"sm",children:["Ver histórico ",e.jsx(m,{className:"h-4 w-4 ml-1"})]})})]}),e.jsx(N,{children:"Acompanhe como seus pets estão na creche"})]}),e.jsx(c,{children:f.length===0?e.jsxs("div",{className:"empty-state py-8",children:[e.jsx(p,{className:"empty-state-icon"}),e.jsx("p",{className:"empty-state-title",children:"Nenhum relatório recente"}),e.jsx("p",{className:"empty-state-description",children:"Relatórios da creche aparecerão aqui"})]}):e.jsx("div",{className:"space-y-4",children:f.map(s=>{const o=t?.find(M=>M.id===s.petId);return e.jsx(U,{log:s,petName:o?.name||"Pet"},s.id)})})})]}),e.jsxs(i,{className:"shadow-card bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5"}),"Ações Rápidas"]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(r,{href:"/tutor/credits",children:e.jsxs(a,{variant:"outline",className:"w-full justify-start",size:"lg",children:[e.jsx(j,{className:"h-5 w-5 mr-2"}),"Comprar Créditos"]})}),e.jsx(r,{href:"/tutor/subscriptions",children:e.jsxs(a,{variant:"outline",className:"w-full justify-start",size:"lg",children:[e.jsx(y,{className:"h-5 w-5 mr-2"}),"Assinar Plano"]})}),e.jsx(r,{href:"/tutor/calendar",children:e.jsxs(a,{variant:"outline",className:"w-full justify-start",size:"lg",children:[e.jsx(V,{className:"h-5 w-5 mr-2"}),"Ver Calendário"]})}),e.jsx(r,{href:"/tutor/reports",children:e.jsxs(a,{variant:"outline",className:"w-full justify-start",size:"lg",children:[e.jsx(p,{className:"h-5 w-5 mr-2"}),"Gerar Relatório"]})})]})})]})]}),e.jsx(W,{variant:"floating"}),e.jsx($,{open:k,onOpenChange:g,pets:t||[]})]})}export{ve as default};
