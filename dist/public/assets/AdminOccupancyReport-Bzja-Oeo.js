import{r as N,t as y,j as e,B as x,C as t,b as r,d,n as v,f as c,e as k}from"./index-DG0yx2hi.js";import{A as m}from"./AdminLayout-CapzJ-JK.js";import{U as w}from"./users-DD1qYPM2.js";import{T as C}from"./trending-up-C2VanZIM.js";import{D}from"./layout-dashboard-CC4g-mOh.js";import"./popover-Bqiz4euq.js";import"./scroll-area-C0S6gB82.js";import"./index-BdQq_4o_.js";import"./wallet-CKmMh37E.js";import"./user-B4BzRHVK.js";function U(){const[i,o]=N.useState("month"),u=()=>{const n=new Date,s=new Date;switch(i){case"week":s.setDate(s.getDate()-7);break;case"month":s.setMonth(s.getMonth()-1);break;case"year":s.setFullYear(s.getFullYear()-1);break}return{start:s,end:n}},{start:p,end:h}=u(),{data:j,isLoading:g}=y.reports.occupancy.useQuery({startDate:p,endDate:h});if(g)return e.jsx(m,{children:e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-muted-foreground",children:"Carregando relat√≥rio..."})})});const a=j||{totalCheckIns:0,averageOccupancy:0,peakOccupancy:0,revenue:0,dailyData:[]};return e.jsx(m,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Relat√≥rio de Ocupa√ß√£o"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Visualize a taxa de ocupa√ß√£o da creche e tend√™ncias de uso"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{variant:i==="week"?"default":"outline",onClick:()=>o("week"),children:"√öltima Semana"}),e.jsx(x,{variant:i==="month"?"default":"outline",onClick:()=>o("month"),children:"√öltimo M√™s"}),e.jsx(x,{variant:i==="year"?"default":"outline",onClick:()=>o("year"),children:"√öltimo Ano"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Total de Check-ins"}),e.jsx(v,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.totalCheckIns}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No per√≠odo selecionado"})]})]}),e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Ocupa√ß√£o M√©dia"}),e.jsx(w,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[a.averageOccupancy.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Taxa m√©dia di√°ria"})]})]}),e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Pico de Ocupa√ß√£o"}),e.jsx(C,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[a.peakOccupancy,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maior ocupa√ß√£o registrada"})]})]}),e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Receita Estimada"}),e.jsx(D,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",(a.revenue/100).toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Baseado em estadias pagas"})]})]})]}),e.jsxs(t,{children:[e.jsxs(r,{children:[e.jsx(d,{children:"Taxa de Ocupa√ß√£o Di√°ria"}),e.jsx(k,{children:"Visualiza√ß√£o da ocupa√ß√£o da creche ao longo do tempo"})]}),e.jsx(c,{children:a.dailyData.length>0?e.jsx("div",{className:"space-y-4",children:a.dailyData.map((n,s)=>{const f=new Date(n.date).toLocaleDateString("pt-BR",{weekday:"short",day:"numeric",month:"short"}),l=n.occupancyRate,b=l>=80?"bg-red-500":l>=60?"bg-yellow-500":l>=40?"bg-blue-500":"bg-green-500";return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 text-sm text-muted-foreground",children:f}),e.jsx("div",{className:"flex-1 bg-muted rounded-full h-8 relative overflow-hidden",children:e.jsx("div",{className:`${b} h-full transition-all duration-300 flex items-center justify-end pr-3`,style:{width:`${Math.min(l,100)}%`},children:e.jsxs("span",{className:"text-xs font-medium text-white",children:[l.toFixed(1),"%"]})})}),e.jsxs("div",{className:"w-16 text-sm font-medium text-right",children:[n.checkIns," pets"]})]},s)})}):e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Nenhum dado de ocupa√ß√£o dispon√≠vel para o per√≠odo selecionado"})})]}),e.jsxs(t,{children:[e.jsx(r,{children:e.jsx(d,{children:"Insights e Recomenda√ß√µes"})}),e.jsxs(c,{className:"space-y-3",children:[a.averageOccupancy<40&&e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"üí° Ocupa√ß√£o Baixa"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"A taxa de ocupa√ß√£o est√° abaixo de 40%. Considere campanhas promocionais ou pacotes especiais para atrair mais clientes."})]}),a.averageOccupancy>=80&&e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-950 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-900 dark:text-yellow-100",children:"‚ö†Ô∏è Alta Ocupa√ß√£o"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"A creche est√° operando pr√≥xima √† capacidade m√°xima. Considere expandir a capacidade ou ajustar pre√ßos."})]}),a.peakOccupancy===100&&e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-950 rounded-lg border border-red-200 dark:border-red-800",children:[e.jsx("p",{className:"text-sm font-medium text-red-900 dark:text-red-100",children:"üö® Capacidade M√°xima Atingida"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:"A creche atingiu 100% de ocupa√ß√£o em alguns dias. Isso pode indicar necessidade de expans√£o ou lista de espera."})]}),a.averageOccupancy>=40&&a.averageOccupancy<80&&e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-950 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx("p",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"‚úÖ Ocupa√ß√£o Saud√°vel"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"A taxa de ocupa√ß√£o est√° em um n√≠vel saud√°vel, permitindo crescimento sem comprometer a qualidade do servi√ßo."})]})]})]})]})})}export{U as default};
