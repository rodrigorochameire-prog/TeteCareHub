import{m as b,r as n,t as p,a as S,j as e,ag as C,C as r,l as f,B as j,I as M,K as P,n as z,i as I}from"./index-DG0yx2hi.js";import{T}from"./TutorLayout-lMG2oLBz.js";import{B}from"./popover-Bqiz4euq.js";import{S as E}from"./scroll-area-C0S6gB82.js";import{U as Q}from"./user-B4BzRHVK.js";import{S as A}from"./send-BU_qFC5s.js";import"./NotificationBell-BIuiN9Fe.js";import"./pt-BR-BIS3WgEC.js";import"./info-DReA-lTp.js";import"./message-square-COhalQ2E.js";import"./chart-column-B4FPjduw.js";import"./package-CC5WVNv6.js";import"./index-BdQq_4o_.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=b("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=b("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);function W(){const[c,h]=n.useState([{role:"assistant",content:"Olá! Sou o assistente virtual da Tetê Care. Posso ajudar você com dúvidas sobre a creche, saúde do seu pet, comportamento e muito mais. Como posso ajudar hoje?",timestamp:new Date}]),[i,d]=n.useState(""),[o,m]=n.useState(!1),l=n.useRef(null),{data:x=[]}=p.pets.listMine.useQuery(),{data:L}=p.auth.me.useQuery(),v=p.ai.chat.useMutation({onSuccess:s=>{h(a=>[...a,{role:"assistant",content:s.message,timestamp:new Date}]),m(!1)},onError:s=>{S.error(`Erro ao enviar mensagem: ${s.message}`),m(!1)}});n.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[c]);const u=()=>{if(!i.trim())return;const s={role:"user",content:i,timestamp:new Date};h(t=>[...t,s]),d(""),m(!0);const a=x.map(t=>({name:t.name,breed:t.breed,age:t.age,credits:t.credits}));v.mutate({message:i,context:JSON.stringify(a)})},y=s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),u())},w=["Quais vacinas meu pet precisa tomar?","Como funciona o sistema de créditos?","Meu pet está com comportamento estranho, o que fazer?","Qual a melhor ração para Golden Retriever?","Como preparar meu pet para a primeira vez na creche?"],k=s=>{d(s)};return e.jsx(T,{children:e.jsxs("div",{className:"container max-w-5xl py-8 animate-fade-in",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg",children:e.jsx(C,{className:"h-6 w-6 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold",children:"Assistente de IA"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Tire suas dúvidas sobre creche, saúde e comportamento do seu pet"})]}),x.length>0&&e.jsxs(r,{className:"p-4 mb-6 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-950/20 dark:to-pink-950/20 border-purple-200 dark:border-purple-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(N,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900 dark:text-purple-100",children:"Seus Pets"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(s=>e.jsxs(B,{variant:"secondary",className:"gap-1",children:[s.name," (",s.breed||"Raça não informada",")"]},s.id))})]}),e.jsxs(r,{className:"flex flex-col h-[600px]",children:[e.jsx(E,{ref:l,className:"flex-1 p-6",children:e.jsxs("div",{className:"space-y-4",children:[c.map((s,a)=>e.jsxs("div",{className:`flex gap-3 ${s.role==="user"?"justify-end":"justify-start"}`,children:[s.role==="assistant"&&e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:e.jsx(g,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${s.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:s.content}),e.jsx("span",{className:"text-xs opacity-70 mt-1 block",children:s.timestamp.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),s.role==="user"&&e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:e.jsx(Q,{className:"h-5 w-5 text-primary-foreground"})})]},a)),o&&e.jsxs("div",{className:"flex gap-3 justify-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:e.jsx(g,{className:"h-5 w-5 text-white"})}),e.jsx("div",{className:"bg-muted rounded-2xl px-4 py-3",children:e.jsx(f,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]})]})}),c.length===1&&e.jsxs("div",{className:"px-6 pb-4 border-t",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3 mt-4",children:"Perguntas sugeridas:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((s,a)=>e.jsx(j,{variant:"outline",size:"sm",onClick:()=>k(s),className:"text-xs",children:s},a))})]}),e.jsx("div",{className:"p-4 border-t",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{value:i,onChange:s=>d(s.target.value),onKeyPress:y,placeholder:"Digite sua pergunta...",disabled:o,className:"flex-1"}),e.jsx(j,{onClick:u,disabled:o||!i.trim(),size:"icon",className:"flex-shrink-0",children:o?e.jsx(f,{className:"h-4 w-4 animate-spin"}):e.jsx(A,{className:"h-4 w-4"})})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mt-6",children:[e.jsxs(r,{className:"p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(P,{className:"h-5 w-5 text-red-500"}),e.jsx("h3",{className:"font-semibold",children:"Saúde"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pergunte sobre vacinas, medicamentos e cuidados preventivos"})]}),e.jsxs(r,{className:"p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(z,{className:"h-5 w-5 text-blue-500"}),e.jsx("h3",{className:"font-semibold",children:"Creche"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tire dúvidas sobre horários, créditos e funcionamento"})]}),e.jsxs(r,{className:"p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(N,{className:"h-5 w-5 text-orange-500"}),e.jsx("h3",{className:"font-semibold",children:"Comportamento"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Obtenha dicas sobre adestramento e socialização"})]})]}),e.jsx(r,{className:"p-4 mt-6 bg-amber-50 dark:bg-amber-950/20 border-amber-200 dark:border-amber-800",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(I,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-amber-900 dark:text-amber-100",children:[e.jsx("strong",{children:"Importante:"})," Este assistente fornece informações gerais. Para questões específicas de saúde do seu pet, sempre consulte um veterinário."]})})]})})]})})}export{W as default};
